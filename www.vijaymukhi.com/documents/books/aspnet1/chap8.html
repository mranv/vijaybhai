<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">


<!-- Mirrored from www.vijaymukhi.com/documents/books/aspnet1/chap8.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Oct 2024 13:45:36 GMT -->
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="chap8_files/filelist.html">
<link rel=Edit-Time-Data href="chap8_files/editdata.html">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Web Services - ASP.NET - Beta2</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Vijay Mukhi</o:Author>
  <o:LastAuthor>Vijay Mukhi</o:LastAuthor>
  <o:Revision>5</o:Revision>
  <o:TotalTime>9</o:TotalTime>
  <o:Created>2001-09-26T13:13:00Z</o:Created>
  <o:LastSaved>2001-09-26T13:22:00Z</o:LastSaved>
  <o:Pages>16</o:Pages>
  <o:Words>4871</o:Words>
  <o:Characters>27769</o:Characters>
  <o:Company>V.M.C.I.</o:Company>
  <o:Lines>231</o:Lines>
  <o:Paragraphs>55</o:Paragraphs>
  <o:CharactersWithSpaces>34102</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:7 0 0 0 19 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:24.0pt;
	font-family:"Trebuchet MS";
	color:black;
	mso-font-kerning:0pt;
	font-weight:normal;}
p.Cprg, li.Cprg, div.Cprg
	{mso-style-name:"C\#prg";
	mso-style-parent:"C\#base";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:9.5pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.Coutput, li.Coutput, div.Coutput
	{mso-style-name:"C\#output";
	mso-style-parent:"C\#base";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:9.5pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.Cbullets, li.Cbullets, div.Cbullets
	{mso-style-name:"C\#bullets";
	mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Bookman Old Style";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.Cbase, li.Cbase, div.Cbase
	{mso-style-name:"C\#base";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Bookman Old Style";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal><img width=64 height=48 id="_x0000_i1025" src=bpb.jpg></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal align=center style='text-align:center'><b>-8-</b></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1>Web Services</h1>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The .Net framework recognizes and
acknowledges files with an extension of asmx as a Web Service. Therefore, in
order to cater to the prerequisites of .Net framework, we design a file called
a.asmx, with a class named zzz. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>public class zzz <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>public int abc(int i) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return i*2;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput><b>Parser Error Message:</b> The page must have a &lt;%@
webservice class=&quot;MyNamespace.MyClass&quot; ... %&gt; directive<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The class zzz has a function
called abc, that accepts an int as a parameter and returns a value, after
multiplying the parameter by 2. No class can be more uncomplicated and
clear-cut than the one we have written. Yet, we get an error when the file is
loaded as<span style="mso-spacerun: yes">  </span>http://localhost/a.asmx in
the browser. This is because, a Web service is a special file, and the
framework is required to handle this exceptional file, a little differently.
So, we need to supplement this file by making some more additions, as shown
below.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>public class zzz<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>public int abc(int i) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return i*2;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>In the previous program, since
the directive named WebService was missing, an error was reported. The
directive WebService is followed by the name of the language which has been
initialized to C#, because we will be writing the Web Service, using the C# programming
language. An asmx file may contain a numerous classes, but only one of them
represents the Web Service. Thus, the class property is made equal to zzz. We
spot the following output in the browser:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput><b>zzz WebService<o:p></o:p></b></p>

<p class=Coutput><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=Coutput><b>zzz</b><o:p></o:p></p>

<p class=Coutput>The following operations are supported. For a formal
definition, please review the <u>Service Description</u>.<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>----------------------------------------------------------------------------<o:p></o:p></p>

<p class=Coutput>This web service is using http://tempuri.org/ as its default
namespace.<o:p></o:p></p>

<p class=Coutput>Recommendation: Change the default namespace before the web
service is made public.<o:p></o:p></p>

<p class=Coutput>Each web service needs a unique namespace to identify it so
that client applications can distinguish it from other ..............<o:p></o:p></p>

<p class=Coutput>......................<o:p></o:p></p>

<p class=Coutput>For more details on XML namespaces, see the W3C recommendation
on Namespaces in XML.<o:p></o:p></p>

<p class=Coutput>For more details on WSDL, see the WSDL Specification.<o:p></o:p></p>

<p class=Coutput>For more details on URIs, see RFC 2396.<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The class zzz is now acknowledged
as a Web Service. For the moment, there are no web methods exposed by our
class.<span style="mso-spacerun: yes">  </span>A Web Service permits others to
execute code in our class. We want the function abc to be called with a number,
so that it can majestically return the numbers twice over, than it had been
served with. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>No web methods are shown, since
at this point in time, the function abc is inaccessible. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>using System.Web.Services;<o:p></o:p></p>

<p class=Cprg>public class zzz<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public int abc(int i) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return i*2; } }<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>zzz<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>The following operations are supported. For a formal
definition, please review the Service Description.<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput><u>abc </u><b><o:p></o:p></b></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Click on abc and the screen
changes to accept values in a text box<o:p></o:p></span></p>

<p class=Coutput><span style="mso-spacerun: yes">   </span><o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> </span>Click <u>here</u> for
a complete list of operations.<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput><b>abc</b><o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput><b>Test</b><o:p></o:p></p>

<p class=Coutput>To test, click the 'Invoke' button. <o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>Parameter Value </p>

<p class=Coutput>i:<span style="mso-spacerun: yes">  </span><span
style="mso-spacerun: yes"> </span><o:p></o:p></p>

<p class=Coutput><img width=271 height=69 id="_x0000_i1030"
src="chap8img/img1.bmp"><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>SOAP<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The following is a sample SOAP
request and response. The placeholders shown need to be replaced with actual
values.<o:p></o:p></span></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>POST /a.asmx HTTP/1.1<o:p></o:p></p>

<p class=Coutput>Host: localhost<o:p></o:p></p>

<p class=Coutput>Content-Type: text/xml; charset=utf-8<o:p></o:p></p>

<p class=Coutput>Content-Length: length<o:p></o:p></p>

<p class=Coutput>SOAPAction: &quot;http://tempuri.org/abc&quot;<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot;?&gt;<o:p></o:p></p>

<p class=Coutput>&lt;soap:Envelope
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:Body&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">    </span>&lt;abc
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">     
</span>&lt;i&gt;int&lt;/i&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">    </span>&lt;/abc&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/soap:Body&gt;<o:p></o:p></p>

<p class=Coutput>&lt;/soap:Envelope&gt;<o:p></o:p></p>

<p class=Coutput>HTTP/1.1 200 OK<o:p></o:p></p>

<p class=Coutput>Content-Type: text/xml; charset=utf-8<o:p></o:p></p>

<p class=Coutput>Content-Length: length<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot;?&gt;<o:p></o:p></p>

<p class=Coutput>&lt;soap:Envelope
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:Body&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">    </span>&lt;abcResponse
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">     
</span>&lt;abcResult&gt;int&lt;/abcResult&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">   
</span>&lt;/abcResponse&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/soap:Body&gt;<o:p></o:p></p>

<p class=Coutput>&lt;/soap:Envelope&gt;<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>HTTP GET<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The following is a sample HTTP
GET request and response. The placeholders shown need to be replaced with
actual values.<o:p></o:p></span></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>GET /a.asmx/abc?i=string HTTP/1.1<o:p></o:p></p>

<p class=Coutput>Host: localhost<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>HTTP/1.1 200 OK<o:p></o:p></p>

<p class=Coutput>Content-Type: text/xml; charset=utf-8<o:p></o:p></p>

<p class=Coutput>Content-Length: length<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot;?&gt;<o:p></o:p></p>

<p class=Coutput>&lt;int
xmlns=&quot;http://tempuri.org/&quot;&gt;int&lt;/int&gt;<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>HTTP POST<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The following is a sample HTTP
POST request and response. The placeholders shown need to be replaced with actual
values.<o:p></o:p></span></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>POST /a.asmx/abc HTTP/1.1<o:p></o:p></p>

<p class=Coutput>Host: localhost<o:p></o:p></p>

<p class=Coutput>Content-Type: application/x-www-form-urlencoded<o:p></o:p></p>

<p class=Coutput>Content-Length: length<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>i=string<o:p></o:p></p>

<p class=Coutput>HTTP/1.1 200 OK<o:p></o:p></p>

<p class=Coutput>Content-Type: text/xml; charset=utf-8<o:p></o:p></p>

<p class=Coutput>Content-Length: length<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot;?&gt;<o:p></o:p></p>

<p class=Coutput>&lt;int
xmlns=&quot;http://tempuri.org/&quot;&gt;int&lt;/int&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>To convert a function into a web
method, we have to add an attribute<span style="mso-spacerun: yes"> 
</span>named WebMethod from the namespace System.Web.Services. When the asmx
file is now loaded, the screen is flashed with the name of the function, its
parameter names and their data types. In addition, we get an input box to enter
a number. This number becomes the value of the parameter i. When we keyed in
the number 12 and clicked on the Invoke button, to our utter amazement, we saw
the number 24 displayed, as shown below. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;
?&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;int
xmlns=&quot;http://tempuri.org/&quot;&gt;24&lt;/int&gt; <o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>This happens to be an xml file.
Since the return value of our function is an int, the number 24 is enclosed
within the int tag. The html file that we had taken notice of, and had attended
to, was honestly, all smokes and mirrors. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Whenever the framework stumbles
upon a file with an asmx extension, it treats it very differently from an aspx
file. It finds out all the functions in the Web Service class that are tagged
with an attribute of WebMethod. It then creates an HTML file. Clicking on the
invoke button results in the execution of a URL by passing it parameters. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Next, we are interested in
calling the function abc, with a parameter i, which has a value of 23. However,
when we actually call the function abc, which has to be summoned from the Web
Service zzz in the file a.asmx, the following URL has to be entered in the IE
address bar: http://localhost/a.asmx/abc?i=23<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The output window displays the
following:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; ?&gt; <o:p></o:p></p>

<p class=Coutput>&lt;int
xmlns=&quot;http://tempuri.org/&quot;&gt;46&lt;/int&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Thus, if we are aware about the
existence of a Web Service and are responsive towards its nuts and bolts, we
can easily call the code from it, using a URL. The parameters to the functions
are passed as HTML parameters. Assuming that we had two parameters named i and
j in the function abc, we would enter the URL as follows:<span
style="mso-spacerun: yes">  </span>http://localhost/a.asmx/abc?i=12&amp;j=10.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>On placing an error in the above
C# program, we noticed that our Web Service is actually a dll. No extra code is
added to the Web Service file, unlike in a control. Also, a Web Service does
not derive from any other class. A Web Service internally uses SOAP, or the
Simple Object Access Protocol, to bring this magic into being!<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>One more thing that you should be
well conversant with, is the Service Description (WSDL file). If you click on
the Service Description link, you will see an XML file that has obviously not
been written by us. Let us now try to appreciate, what goes into this file.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>WSDL file</u><o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> </span>&lt;?xml
version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;definitions
xmlns:s=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;
xmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot;
xmlns:tm=&quot;http://microsoft.com/wsdl/mime/textMatching/&quot;
xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;
xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;
xmlns:s0=&quot;http://tempuri.org/&quot;
targetNamespace=&quot;http://tempuri.org/&quot;
xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;types&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:schema attributeFormDefault=&quot;qualified&quot;
elementFormDefault=&quot;qualified&quot;
targetNamespace=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:element name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:complexType&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;s:element
minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;i&quot;
type=&quot;s:int&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/s:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/s:complexType&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/s:element&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:element name=&quot;abcResponse&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:complexType&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;s:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;s:element
minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;abcResult&quot;
type=&quot;s:int&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/s:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/s:complexType&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/s:element&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;s:element
name=&quot;int&quot; type=&quot;s:int&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/s:schema&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/types&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcSoapIn&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;parameters&quot; element=&quot;s0:abc&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcSoapOut&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;parameters&quot; element=&quot;s0:abcResponse&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcHttpGetIn&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;i&quot; type=&quot;s:string&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcHttpGetOut&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;Body&quot; element=&quot;s0:int&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcHttpPostIn&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;i&quot; type=&quot;s:string&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;message name=&quot;abcHttpPostOut&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;part
name=&quot;Body&quot; element=&quot;s0:int&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/message&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;portType name=&quot;zzzSoap&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;input
message=&quot;s0:abcSoapIn&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;output
message=&quot;s0:abcSoapOut&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/portType&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;portType name=&quot;zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;input
message=&quot;s0:abcHttpGetIn&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;output
message=&quot;s0:abcHttpGetOut&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/portType&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;portType name=&quot;zzzHttpPost&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;input
message=&quot;s0:abcHttpPostIn&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;output
message=&quot;s0:abcHttpPostOut&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/portType&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;binding name=&quot;zzzSoap&quot;
type=&quot;s0:zzzSoap&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:binding
transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;
style=&quot;document&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:operation
soapAction=&quot;http://tempuri.org/abc&quot; style=&quot;document&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;input&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:body use=&quot;literal&quot;
/&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/input&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:body
use=&quot;literal&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/binding&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;binding name=&quot;zzzHttpGet&quot;
type=&quot;s0:zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:binding
verb=&quot;GET&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:operation
location=&quot;/abc&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;input&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:urlEncoded
/&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/input&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;mime:mimeXml
part=&quot;Body&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/binding&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;binding name=&quot;zzzHttpPost&quot;
type=&quot;s0:zzzHttpPost&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:binding
verb=&quot;POST&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:operation
location=&quot;/abc&quot; /&gt; <o:p></o:p></p>

<p class=Coutput>- &lt;input&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;mime:content
type=&quot;application/x-www-form-urlencoded&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/input&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;mime:mimeXml
part=&quot;Body&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/output&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/operation&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/binding&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;service name=&quot;zzz&quot;&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;port name=&quot;zzzSoap&quot;
binding=&quot;s0:zzzSoap&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;soap:address
location=&quot;http://localhost/a.asmx&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/port&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;port name=&quot;zzzHttpGet&quot;
binding=&quot;s0:zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:address
location=&quot;http://localhost/a.asmx&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/port&gt;<o:p></o:p></p>

<p class=Coutput>- &lt;port name=&quot;zzzHttpPost&quot;
binding=&quot;s0:zzzHttpPost&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;http:address
location=&quot;http://localhost/a.asmx&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/port&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/service&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/definitions&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>This XML file gives us all the
details about the Web Service. It represents the Web Service, but without the
code. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Let us explain the how's and
why's of it. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>A WSDL document defines services
as collections of network endpoints, or ports. The tag called definition
describes the Web Service, but in a non-programming manner. All Web Services
are based on SOAP. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>A Service Definition Language is
made up of six major elements:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>types, which
provides data type definitions used to describe the messages exchanged. <o:p></o:p></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>message, which
represents an abstract definition of the data being transmitted. A message
consists of logical parts, each of which is associated with a definition within
some type system. <o:p></o:p></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>portType, which is a
set of abstract operations. Each operation refers to an input message and
output messages. <o:p></o:p></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>binding, which
specifies concrete protocol and data format specifications for the operations
and messages defined by a particular portType. <o:p></o:p></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>port, which
specifies an address for a binding, thus defining a single communication
endpoint. <o:p></o:p></p>

<p class=Cbullets><span style='mso-tab-count:1'>   </span>service, which is
used to aggregate a set of related ports. <o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The WSDL file that has been
generated, helps us to figure out the number of functions in the Web Service.
The parameters, their data types and the return value are also specified along
with the function names. This description is sufficient to execute a function.
Observe that there is no sign of any code in the asmx file. Thus, the WSDL file
is not concerned about whether the code is in Java or C# or in any other
language. Since the file is machine generated, we will not spend more time
deciphering it.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Let us now summon the Web Service
from our program, which is written in C#.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>using System.Web.Services;<o:p></o:p></p>

<p class=Cprg>public class zzz<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public int abc(int i) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return i*2; <o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Firstly, we write the following
URL and click on the Service Description link, and then copy whatever file is
displayed in the file named, a.wsdl in the c:\inetpub\wwwroot\bin sub-directory.
<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We now want some program to
generate a C# program, which can act like our Web Service. The program that we
shall be running, using the command laid down below, is called WebServiceUtil.
Very soon, we shall be explaining as to what the various options in this
command signify. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput>&gt;wsdl.exe /l:CS /n:nnn a.wsdl<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>This will create a file called
zzz.cs, since our Web Service class was called zzz. /n:nnn adds namespace nnn
to the class. In case you receive any errors, you should ensure that the first
line, &lt;?xml version=&quot;1.0&quot; ?&gt;, begins at the first column, and
the file thereafter starts with a tag on every line. Also if you have selected
and copied the file from your browser, you will have to remove the - sign
preceeding every line.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The contents of zzz.cs are as
follows:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>zzz.cs</u><o:p></o:p></p>

<p class=Cprg>//--------------------------------------------------------------------------<o:p></o:p></p>

<p class=Cprg>// &lt;autogenerated&gt;<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>This code was
generated by a tool.<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>Runtime Version:
1.0.2914.16<o:p></o:p></p>

<p class=Cprg>//<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>Changes to this
file may cause incorrect behavior and will <o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>be lost if the code
is regenerated.<o:p></o:p></p>

<p class=Cprg>// &lt;/autogenerated&gt;<o:p></o:p></p>

<p class=Cprg>//--------------------------------------------------------------------------<o:p></o:p></p>

<p class=Cprg>// <o:p></o:p></p>

<p class=Cprg>// This source code was auto-generated by wsdl,
Version=1.0.2914.16.<o:p></o:p></p>

<p class=Cprg>namespace nnn {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Diagnostics;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Xml.Serialization;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using System;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Web.Services.Protocols;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Web.Services;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">   
</span>[System.Web.Services.WebServiceBindingAttribute(Name=&quot;zzzSoap&quot;,
Namespace=&quot;http://tempuri.org/&quot;)]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>public class zzz :
System.Web.Services.Protocols.SoapHttpClientProtocol {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public zzz() {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>this.Url =
&quot;http://localhost/a.asmx&quot;;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://tempuri.org/abc&quot;,
<span style='font-size:9.0pt'>Use=System.Web.Services.Description.SoapBindingUse.Literal,
ParameterStyle=System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]<o:p></o:p></span></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public int abc(int
i) {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>object[]
results = this.Invoke(&quot;abc&quot;, new object[] {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">                       
</span>i});<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>return
((int)(results[0]));<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public
System.IAsyncResult Beginabc(int i, System.AsyncCallback callback, object
asyncState) {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>return
this.BeginInvoke(&quot;abc&quot;, new object[] {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">                       
</span>i}, callback, asyncState);<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">     </span><span
style="mso-spacerun: yes">   </span>public int Endabc(System.IAsyncResult
asyncResult) {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>object[]
results = this.EndInvoke(asyncResult);<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>return
((int)(results[0]));<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>This program has been generated
by the wsdl program. The name of the class is given as zzz, which is derived
from<span style="mso-spacerun: yes"> 
</span>System.Web.Services.Protocols.SoapHttpClientProtocol. The function abc
accepts one parameter i.e. int i. Before we go on to explain how this code gets
generated, let us first convert this machine generated code into a library
zzz.dll, with the help of the following csc command:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput>&gt;csc /t:library /r:system.web.services.dll<span
style="mso-spacerun: yes">  </span>zzz.cs<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Next, we have to call code from
our Web Service. For this, we create a file a.aspx in the inetpub/wwwroot
sub-directory.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.aspx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ Import Namespace=&quot;nnn&quot; %&gt;<o:p></o:p></p>

<p class=Cprg>&lt;%@ language=C# %&gt;<o:p></o:p></p>

<p class=Cprg>&lt;form action=&quot;a.aspx&quot; method=&quot;post&quot;
runat=&quot;server&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;script language=&quot;C#&quot; runat=server&gt;<o:p></o:p></p>

<p class=Cprg>void abc(Object a1, EventArgs e)<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>zzz a = new zzz();<o:p></o:p></p>

<p class=Cprg>int i = a.abc(Int32.Parse(aaa.Text));<o:p></o:p></p>

<p class=Cprg>Response.Write(i.ToString());<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>&lt;/script&gt;<o:p></o:p></p>

<p class=Cprg>&lt;asp:textbox id=&quot;aaa&quot; runat=&quot;server&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;asp:button type=submit text=&quot;Click&quot;
OnClick=&quot;abc&quot; runat=&quot;server&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/form&gt;<o:p></o:p></p>

<p class=Cprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>The framework looks into the bin
sub-directory for the code of the objects. On sighting it, the code gets
executed.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The above program will generate a
compilation error, if zzz.dll is not present in the bin sub-directory or if
there are more dlls in the directory. This is because, the code for the class
zzz resides in the zzz.dll, moreover, the compiler is not informed about the
location and the name of the dll name. This can be done using the /R: option. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>To solve the mystery of locating
the dll, we take the assistance of the web.config file. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>web.config</u><o:p></o:p></p>

<p class=Cprg>&lt;configuration&gt;<o:p></o:p></p>

<p class=Cprg>&lt;system.web&gt;<o:p></o:p></p>

<p class=Cprg>&lt;compilation debug=&quot;false&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;assemblies&gt;<o:p></o:p></p>

<p class=Cprg>&lt;add assembly=&quot;zzz&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/assemblies&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/compilation&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/system.web&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/configuration&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>To change the default behavior of
anything in the ASP</span><span style='font-family:"Times New Roman";
color:windowtext'>.Net</span><span style='color:windowtext'> world, we have to
turn to the configuration file. The 'add assembly' option adds the dll that has
been assigned to it, to the csc compiler. To be precise, it appends the dll
with the /r: option to the compiler, while compiling any cs file. This assembly
can be present anywhere on our hard disk. The /bin sub-directory is a special
directory, which is checked only for our business objects. This is how the
framework can be customized to work with our files. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Now, if you load the aspx file
using http://localhost/a.aspx, you will notice a button and a textbox. If you
type in the number 12 and click on the button, the abc function in the aspx
file will be called. In the function abc, a new zzz object called a, is
created, and the function abc is called off it. This function is supplied with
a parameter, which is the text entered in the TextBox, after converting it into
an int. The return value of this function is displayed through the Write
function. Any number that we enter is multiplied by 2, and then the value is
returned. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Note that the code for the
multiplication is not present in the zzz class. To further prove this point, we
merely open the asmx file and multiply by 3, instead of 2. Now, if we click on
the button, we will observe the numbers being multiplied by 3. Are you feeling
perplexed already? If so, it would be sensible for you to revise the above
text, before proceeding any further. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We are doing the following to
prove to you that, you can easily change the way ASP+ looks at the world. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The VB sample in the
documentation derives from the WebService class, while, the C# sample does not.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><span style="mso-spacerun:
yes"> </span><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>using System;<o:p></o:p></p>

<p class=Cprg>using System.Web.Services;<o:p></o:p></p>

<p class=Cprg>public enum yyy<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>b1 = 10,<o:p></o:p></p>

<p class=Cprg>b2 = 20<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>public class xxx<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>public int i1;<o:p></o:p></p>

<p class=Cprg>public double d1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>public class zzz<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public String a1() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return &quot;vijay&quot;;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public int[] a2() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>int[] a = new int[2];<o:p></o:p></p>

<p class=Cprg>a[0] = 10;<o:p></o:p></p>

<p class=Cprg>a[1] = 20;<o:p></o:p></p>

<p class=Cprg>return a;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public yyy a3() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>return yyy.b1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public xxx a4() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>xxx x = new xxx();<o:p></o:p></p>

<p class=Cprg>x.i1=10;<o:p></o:p></p>

<p class=Cprg>x.d1 = 10.1;<o:p></o:p></p>

<p class=Cprg>return x;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public xxx[] a5() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>xxx [] x = new xxx[2];<o:p></o:p></p>

<p class=Cprg>x[0] = new xxx();<o:p></o:p></p>

<p class=Cprg>x[0].i1=3;<o:p></o:p></p>

<p class=Cprg>x[0].d1=3.1;<o:p></o:p></p>

<p class=Cprg>x[1] = new xxx();<o:p></o:p></p>

<p class=Cprg>x[1].i1=9;<o:p></o:p></p>

<p class=Cprg>x[1].d1 = 9.1;<o:p></o:p></p>

<p class=Cprg>return x;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We have created 5 functions named
a1 to a5 in our Web Service. The display order may not be in the order of
creation. The point we are making here is that, we are allowed to return any
data types that we like. Let us start by clicking on each function and understanding
the output. The first function, a1, simply returns a string.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;
?&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;string
xmlns=&quot;http://tempuri.org/&quot;&gt;vijay&lt;/string&gt; <o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The value 'vijay' is placed
within a tag called string, since our function returns a string. The next
function, a2, returns an array of ints.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;
?&gt; <o:p></o:p></p>

<p class=Coutput>&lt;ArrayOfInt
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;int&gt;10&lt;/int&gt;
<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;int&gt;20&lt;/int&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/ArrayOfInt&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The individual ints are tagged
with the int tag, and the entire array is enclosed in an ArrayOfInt tag. Thus,
we can also return an array of any data type. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The next click will call function
a3, which returns the value of an enum. An enum is a class that contains names
that represent values.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>Output</u><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes"> </span>&lt;?xml
version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; <o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">  </span>&lt;yyy
xmlns=&quot;http://tempuri.org/&quot;&gt;b1&lt;/yyy&gt; <o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The enum member that is returned,
is placed in a tag, that is the name of the enum class yyy. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Function a4 returns an object of
a class xxx. This class has two members, i1 and d1. Hence, the output is
displayed as follows:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;
?&gt; <o:p></o:p></p>

<p class=Coutput>&lt;xxx xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;i1&gt;10&lt;/i1&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;d1&gt;10.1&lt;/d1&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xxx&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The last function, a5 is like the
one above, but it returns an array of xxx objects.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;
?&gt; <o:p></o:p></p>

<p class=Coutput>&lt;ArrayOfXxx
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xxx&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;i1&gt;3&lt;/i1&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;d1&gt;3.1&lt;/d1&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xxx&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xxx&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;i1&gt;9&lt;/i1&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;d1&gt;9.1&lt;/d1&gt; <o:p></o:p></p>

<p class=Coutput>&lt;/xxx&gt;<o:p></o:p></p>

<p class=Coutput>&lt;/ArrayOfXxx&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The tag, ArrayOfXxx encloses the
entire output. Each member of the array is placed within the tag xxx, and the
individual members are placed within their own tags. By making use of<span
style="mso-spacerun: yes">  </span>a Web Service, we are at a liberty to pass
any data types, as return values or as parameters. Thus, there are no
restrictions. We will leave it as an exercise for you to run the same Web
Service from an aspx file.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>using System;<o:p></o:p></p>

<p class=Cprg>using System.Data;<o:p></o:p></p>

<p class=Cprg>using System.Data.SqlClient;<o:p></o:p></p>

<p class=Cprg>using System.Web.Services;<o:p></o:p></p>

<p class=Cprg>public class zzz<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>[WebMethod]<o:p></o:p></p>

<p class=Cprg>public DataSet abc() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>SqlConnection c = new
SqlConnection(&quot;server=localhost;uid=sa;pwd=;database=NorthWind&quot;);<o:p></o:p></p>

<p class=Cprg>SqlDataAdapter co = new SqlDataAdapter(&quot;select productid,productname
from Products where productid='1'&quot;,c);<o:p></o:p></p>

<p class=Cprg>SqlDataAdapter co1 = new SqlDataAdapter(&quot;select
customerid,companyname from Customers where customerid='BOLID'&quot;, c);<o:p></o:p></p>

<p class=Cprg>DataSet ds = new DataSet();<o:p></o:p></p>

<p class=Cprg>co.Fill(ds, &quot;zzz&quot;);<o:p></o:p></p>

<p class=Cprg>co1.Fill(ds, &quot;yyy&quot;);<o:p></o:p></p>

<p class=Cprg>return ds;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput><u>Output<o:p></o:p></u></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;?xml
version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> </span>&lt;DataSet
xmlns=&quot;http://tempuri.org/&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:schema id=&quot;NewDataSet&quot;
targetNamespace=&quot;&quot; xmlns=&quot;&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:element name=&quot;NewDataSet&quot;
msdata:IsDataSet=&quot;true&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:choice maxOccurs=&quot;unbounded&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:element name=&quot;zzz&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:sequence&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:element name=&quot;productid&quot;
type=&quot;xsd:int&quot; minOccurs=&quot;0&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;xsd:element
name=&quot;productname&quot; type=&quot;xsd:string&quot;
minOccurs=&quot;0&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:element&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:element name=&quot;yyy&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:sequence&gt;<o:p></o:p></p>

<p class=Coutput>&lt;xsd:element name=&quot;customerid&quot;
type=&quot;xsd:string&quot; minOccurs=&quot;0&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;xsd:element
name=&quot;companyname&quot; type=&quot;xsd:string&quot;
minOccurs=&quot;0&quot; /&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:sequence&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:element&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:choice&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/xsd:complexType&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:element&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/xsd:schema&gt;<o:p></o:p></p>

<p class=Coutput>&lt;diffgr:diffgram
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
xmlns:diffgr=&quot;urn:schemas-microsoft-com:xml-diffgram-v1&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;NewDataSet xmlns=&quot;&quot;&gt;<o:p></o:p></p>

<p class=Coutput>&lt;zzz diffgr:id=&quot;zzz1&quot;
msdata:rowOrder=&quot;0&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;productid&gt;1&lt;/productid&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;productname&gt;Chai&lt;/productname&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/zzz&gt;<o:p></o:p></p>

<p class=Coutput>&lt;yyy diffgr:id=&quot;yyy1&quot;
msdata:rowOrder=&quot;0&quot;&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;customerid&gt;BOLID&lt;/customerid&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;companyname&gt;Bólido Comidas preparadas&lt;/companyname&gt; <o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/yyy&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/NewDataSet&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes"> 
</span>&lt;/diffgr:diffgram&gt;<o:p></o:p></p>

<p class=Coutput><span style="mso-spacerun: yes">  </span>&lt;/DataSet&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>One thing that is very evident is
that, Microsoft is in love with XML and finds it irresistable. Hence, we see
XML popping out of everywhere. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>In the above Web Service, we are
connecting to the database NorthWind and creating two SQL statements that will
return one record each, from two separate tables. These select statements are
added to our dataset object and the object is then returned. The output is in
the form of an appealingly formatted XML file. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Let us try to understand this
file now.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>As usual, the XML file starts
with the xml version number. It is then followed by a tag called DataSet.
DataSet informs us that the data given within it is from a database. The first
dataset with the name zzz, becomes the name of our element. This is succeeded
by the field names or the schema. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The same procedure is repeated
for the second table in the data set. Then, we have a tag called NewDataSet, followed
by the name of the first dataset zzz, in a tag form. Then, we have the values
from the database enclosed by the field names, once again in tags. The same
process is reiterated for the other table too.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.asmx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;zzz&quot;
%&gt;<o:p></o:p></p>

<p class=Cprg>using System;<o:p></o:p></p>

<p class=Cprg>using System.Web.Services;<o:p></o:p></p>

<p class=Cprg>public class zzz : WebService<o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>[WebMethod(EnableSession=true)]<o:p></o:p></p>

<p class=Cprg>public String abc() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>if (Session[&quot;aa&quot;] == null) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>Session[&quot;aa&quot;] = 1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>else <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>Session[&quot;aa&quot;] = ((int) Session[&quot;aa&quot;]) + 1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>return &quot;Session &quot; + Session[&quot;aa&quot;].ToString()
+ &quot; times.&quot;;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>[WebMethod(EnableSession=false)]<o:p></o:p></p>

<p class=Cprg>public String pqr() <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>if (Application[&quot;aa&quot;] == null) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>Application[&quot;aa&quot;] = 1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>else <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>Application[&quot;aa&quot;] = ((int) Application[&quot;aa&quot;])
+ 1;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>return &quot;Application &quot; +
Application[&quot;aa&quot;].ToString() + &quot; times.&quot;;<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>In the above Web Service, we use
two functions, named abc and pqr. The function abc has a parameter called
EnableSession=true, added to the WebMethod. This parameter switches on the
session tracking. The function pqr is similar to this, with an exception of the
session tracking being disabled. Thereafter, a Session Variable aa, is created
in the function abc and an Application Variable by the same name aa is created
in pqr to store a value. This value is incremented by 1, each time, and is
finally returned as a string. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The Application and Session
objects are framework intrinsic. To understand the above example, select the
'prompt' radio button for the cookie. Now, each time we click on abc, a cookie
is received by the browser. However, such is not the case with the Application.
<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Now, close all instances of the
browser and open only one browser copy. Rewrite the same URL in the address bar
and click on abc. The session count begins from 1. If you click on pqr, you
will notice that the application remembers its last count, which, it now
increments by 1. By disabling the session support for a particular web
function, the web server now has less work to do. Thus, the web method will be
served up faster. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We first start with the WSDL file
named a.wsdl in the c:\inetpub\wwwroot\bin sub-directory. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>a.wsdl</u><o:p></o:p></p>

<p class=Cprg>&lt;?xml version=&quot;1.0&quot;?&gt;<o:p></o:p></p>

<p class=Cprg>&lt;definitions
xmlns:s=&quot;http://www.w3.org/1999/XMLSchema&quot;
xmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;
xmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot;
xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;
xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;
xmlns:s0=&quot;http://tempuri.org/&quot;
targetNamespace=&quot;http://tempuri.org/&quot;
xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;types&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:schema targetNamespace=&quot;http://tempuri.org/&quot;<o:p></o:p></p>

<p class=Cprg>attributeFormDefault=&quot;qualified&quot; elementFormDefault=&quot;qualified&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:element name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:complexType derivedBy=&quot;restriction&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/s:element&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:element name=&quot;abcResult&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:complexType derivedBy=&quot;restriction&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:all&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:element name=&quot;result&quot; type=&quot;s:string&quot;
nullable=&quot;true&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/s:all&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/s:complexType&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/s:element&gt;<o:p></o:p></p>

<p class=Cprg>&lt;s:element name=&quot;string&quot; type=&quot;s:string&quot;
nullable=&quot;true&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/s:schema&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/types&gt;<o:p></o:p></p>

<p class=Cprg>&lt;message name=&quot;abcHttpGetIn&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;message name=&quot;abcHttpGetOut&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;part name=&quot;Body&quot; element=&quot;s0:string&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/message&gt;<o:p></o:p></p>

<p class=Cprg>&lt;portType name=&quot;zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;input message=&quot;s0:abcHttpGetIn&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;output message=&quot;s0:abcHttpGetOut&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/operation&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/portType&gt;<o:p></o:p></p>

<p class=Cprg>&lt;binding name=&quot;zzzHttpGet&quot;
type=&quot;s0:zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;http:binding verb=&quot;GET&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;http:operation location=&quot;/a.html&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;input&gt;<o:p></o:p></p>

<p class=Cprg>&lt;http:urlEncoded/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/input&gt;<o:p></o:p></p>

<p class=Cprg>&lt;output&gt;<o:p></o:p></p>

<p class=Cprg>&lt;text
xmlns=&quot;http://microsoft.com/wsdl/mime/textMatching/&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;match name='Title' pattern='TITLE&amp;gt;(.*?)&amp;lt;'/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;match name='Vijay' pattern='&amp;gt;(.*?)&amp;lt;'/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/text&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/output&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/operation&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/binding&gt;<o:p></o:p></p>

<p class=Cprg>&lt;service name=&quot;zzz&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;port name=&quot;zzzHttpGet&quot;
binding=&quot;s0:zzzHttpGet&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;http:address location=&quot;http://localhost&quot; /&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/port&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/service&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/definitions&gt;<o:p></o:p></p>

<p class=Cprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cprg><u>a.html</u><o:p></o:p></p>

<p class=Cprg>&lt;HTML&gt;<o:p></o:p></p>

<p class=Cprg>&lt;HEAD&gt;<o:p></o:p></p>

<p class=Cprg>&lt;TITLE&gt;Hello!&lt;/TITLE&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/HEAD&gt;<o:p></o:p></p>

<p class=Cprg>&lt;BODY&gt;<o:p></o:p></p>

<p class=Cprg>&lt;Vijay&gt;Mukhi&lt;/Vijay&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/BODY&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/HTML&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We then run the following two
commands:<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput>&gt;wsdl /l:CSharp /n:nnn a.wsdl<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The above command creates a file
called zzz.cs for us. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Coutput>&gt;csc /t:library zzz.cs<o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>This creates a file by the name
of zzz.dll in the bin sub directory.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg><u>zzz.cs</u><o:p></o:p></p>

<p class=Cprg>//----------------------------------------------------------------------<o:p></o:p></p>

<p class=Cprg>// &lt;autogenerated&gt;<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>This code was
generated by a tool.<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>Runtime Version:
1.0.2914.16<o:p></o:p></p>

<p class=Cprg>//<o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>Changes to this
file may cause incorrect behavior and will be lost if <o:p></o:p></p>

<p class=Cprg>//<span style="mso-spacerun: yes">     </span>the code is
regenerated.<o:p></o:p></p>

<p class=Cprg>// &lt;/autogenerated&gt;<o:p></o:p></p>

<p class=Cprg>//----------------------------------------------------------------------<o:p></o:p></p>

<p class=Cprg>// <o:p></o:p></p>

<p class=Cprg>// This source code was auto-generated by wsdl,
Version=1.0.2914.16.<o:p></o:p></p>

<p class=Cprg>// <o:p></o:p></p>

<p class=Cprg>namespace nnn {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Diagnostics;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Xml.Serialization;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using System;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Web.Services.Protocols;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>using
System.Web.Services;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>public class zzz :
System.Web.Services.Protocols.HttpGetClientProtocol {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span><o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public zzz() {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>this.Url =
&quot;http://localhost/a.html&quot;;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">     
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       
</span>[System.Web.Services.Protocols.HttpMethodA<o:p></o:p></p>

<p class=Cprg>ttribute(typeof(System.Web.Services.Protocols.TextReturnReader),
typeof(System.Web.Services.Protocols.UrlParameterWriter))]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">      </span>public abcMatches
abc() {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">       </span>return
((abcMatches)(this.Invoke(&quot;abc&quot;, (this.Url +
&quot;/QuickStart/aspplus/samples/services/TextMatching/CS/MatchServer.html&quot;),
new object[0])));<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">      </span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public
System.IAsyncResult Beginabc(System.AsyncCallback callback, object asyncState)
{<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">      </span>return
this.BeginInvoke(&quot;abc&quot;, (this.Url +
&quot;/QuickStart/aspplus/samples/services/TextMatching/CS/MatchServer.html&quot;),
new object[0], callback, asyncState);<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    
</span>[System.Diagnostics.DebuggerStepThroughAttribute()]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">     </span>public abcMatches
Endabc(System.IAsyncResult asyncResult) <o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">     </span>{<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            </span>return
((abcMatches)(this.EndInvoke(asyncResult)));<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">     </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>}<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">    </span>public class
abcMatches {<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">            
</span>[System.Web.Services.Protocols.MatchAttribute(&quot;TITLE&gt;(.*?)&lt;&quot;)]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public string
Title;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">          
</span>[System.Web.Services.Protocols.MatchAttribute(&quot;&gt;(.*?)&lt;&quot;)]<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">        </span>public string
Vijay;<o:p></o:p></p>

<p class=Cprg><span style="mso-spacerun: yes">   </span>}<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=Cprg><u>a.aspx</u><o:p></o:p></p>

<p class=Cprg>&lt;%@ Import Namespace=&quot;nnn&quot; %&gt;<o:p></o:p></p>

<p class=Cprg>&lt;html&gt;<o:p></o:p></p>

<p class=Cprg>&lt;script language=&quot;C#&quot; runat=&quot;server&quot;&gt;<o:p></o:p></p>

<p class=Cprg>public void Abc(Object Src, EventArgs E) <o:p></o:p></p>

<p class=Cprg>{<o:p></o:p></p>

<p class=Cprg>zzz m= new zzz();<o:p></o:p></p>

<p class=Cprg>abcMatches ma = m.abc();<o:p></o:p></p>

<p class=Cprg>ma.Vijay = &quot;mukhi&quot;;<o:p></o:p></p>

<p class=Cprg>Response.Write(ma.Title + &quot;.&quot; + ma.Vijay);<o:p></o:p></p>

<p class=Cprg>}<o:p></o:p></p>

<p class=Cprg>&lt;/script&gt;<o:p></o:p></p>

<p class=Cprg>&lt;body&gt;<o:p></o:p></p>

<p class=Cprg>&lt;form runat=&quot;server&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;input type=&quot;submit&quot; OnServerClick=&quot;Abc&quot;
runat=&quot;server&quot;/&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/form&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/body&gt;<o:p></o:p></p>

<p class=Cprg>&lt;/html&gt;<o:p></o:p></p>

<p class=Coutput><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=Coutput><u>Output</u><o:p></o:p></p>

<p class=Coutput><img width=88 height=37 id="_x0000_i1031"
src="chap8img/img2.bmp"><o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Coutput><u>After clicking on the button:</u><o:p></o:p></p>

<p class=Coutput>Hello!.mukhi <o:p></o:p></p>

<p class=Coutput><img width=88 height=37 id="_x0000_i1032"
src="chap8img/img2.bmp"><o:p></o:p></p>

<p class=Coutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'>For the first time, we are
creating a WSDL file manually. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cprg>&lt;operation name=&quot;abc&quot;&gt;<o:p></o:p></p>

<p class=Cprg>&lt;http:operation location=&quot;/a.html&quot;/&gt;<o:p></o:p></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>We have a tag called operation
that sets the name property to the function abc and the http operation location
is set to a file named a.html.<span style="mso-spacerun: yes">  </span><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The text tag encloses two
occurrence of another tag called 'match'. The name 'property' is set to 'Title'
and 'Vijay', respectively. Moreover, a pattern or wild card is specified for
each of them. It specifies a certain pattern or a rule. <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>Now, the question that vexes our
wits, is : From where will the value of 'Title' be obtained? <o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>The value lies in the html file.
The value of 'Hello', which is enclosed in the Title tag in the HTML file, is
picked up and assigned to the 'Title' variable in a.aspx. The same procedure is
followed for 'Vijay'. The tag name match is a special tag. It is available as a
class called abcMatches, in the aspx file.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>In the .cs file that is
generated, the constructor saves the URL in a variable called Url, for future
reference. The function abc returns an instance of the abcMatches class. The
class abcMatches created in zzz.cs, contains two instance variables, 'Title'
and 'Vijay', with or without the pattern.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'>In the aspx file, when a button
is clicked, the function Abc is called. In this function, we create a new zzz
instance, and then call the function abc from it. The output is an abcMatches
object which we store in an object named ma. Thereafter, the value in 'Vijay'
is initialized to 'mukhi'. Finally, both the variables are displayed, using the
Write function. Thus, without creating any asmx file, using our code, we have
been able to read data within tags in an HTML file. We are thus, doing things
in a way that is a drastic departure from what we have been doing so far.<o:p></o:p></span></p>

<p class=Cbase><span style='color:windowtext'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal>As we reiterated many times in the past, you are allowed to
configure<span style="mso-spacerun: yes">  </span>everything in case of ASP+.
The main web.config file informs the framework about the aspx file that handles
a Web Service, or a file with an asmx extension.</p>

</div>

</body>


<!-- Mirrored from www.vijaymukhi.com/documents/books/aspnet1/chap8.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Oct 2024 13:45:43 GMT -->
</html>
