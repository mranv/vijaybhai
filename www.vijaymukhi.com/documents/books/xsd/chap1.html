<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">


<!-- Mirrored from www.vijaymukhi.com/documents/books/xsd/chap1.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Oct 2024 14:05:57 GMT -->
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="chap1_files/filelist.html">
<link rel=Edit-Time-Data href="chap1_files/editdata.html">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>XML Schema Definition - 1. DataSets</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>vmukhi</o:Author>
  <o:LastAuthor>vmukhi</o:LastAuthor>
  <o:Revision>20</o:Revision>
  <o:TotalTime>20</o:TotalTime>
  <o:Created>2002-01-20T08:12:00Z</o:Created>
  <o:LastSaved>2002-01-21T05:47:00Z</o:LastSaved>
  <o:Pages>29</o:Pages>
  <o:Words>9791</o:Words>
  <o:Characters>55812</o:Characters>
  <o:Company>V.M.C.I.</o:Company>
  <o:Lines>465</o:Lines>
  <o:Paragraphs>111</o:Paragraphs>
  <o:CharactersWithSpaces>68541</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:553679495 -2147483648 8 0 66047 0;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:7 0 0 0 19 0;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:8.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	letter-spacing:10.0pt;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-style:italic;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:24.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-indent:24.0pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:14.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.programs, li.programs, div.programs
	{mso-style-name:programs;
	mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
p.figure, li.figure, div.figure
	{mso-style-name:figure;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.figure1, li.figure1, div.figure1
	{mso-style-name:figure1;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.ChapName, li.ChapName, div.ChapName
	{mso-style-name:"Chap Name";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:30.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.ChapName1, li.ChapName1, div.ChapName1
	{mso-style-name:"Chap Name1";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:30.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.ILbase, li.ILbase, div.ILbase
	{mso-style-name:ILbase;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Book Antiqua";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.basetextofthebook, li.basetextofthebook, div.basetextofthebook
	{mso-style-name:"base text of the book";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.basetextofthebook1, li.basetextofthebook1, div.basetextofthebook1
	{mso-style-name:"base text of the book1";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.ChapName0, li.ChapName0, div.ChapName0
	{mso-style-name:ChapName;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.DOSPROMPT, li.DOSPROMPT, div.DOSPROMPT
	{mso-style-name:"DOS PROMPT";
	mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.cbasetext, li.cbasetext, div.cbasetext
	{mso-style-name:"c\# base text";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.ChapIntro, li.ChapIntro, div.ChapIntro
	{mso-style-name:"Chap Intro";
	mso-style-parent:"";
	margin-top:0in;
	margin-right:42.65pt;
	margin-bottom:0in;
	margin-left:1.25in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-style:italic;}
p.PageNo, li.PageNo, div.PageNo
	{mso-style-name:"Page No";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.Headline, li.Headline, div.Headline
	{mso-style-name:Headline;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:30.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.Hangingindent, li.Hangingindent, div.Hangingindent
	{mso-style-name:"Hanging indent";
	mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	text-indent:-12.0pt;
	mso-pagination:widow-orphan;
	tab-stops:12.0pt;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.ILprg, li.ILprg, div.ILprg
	{mso-style-name:ILprg;
	mso-style-parent:ILbase;
	mso-style-next:ILbase;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.ILoutput, li.ILoutput, div.ILoutput
	{mso-style-name:ILoutput;
	mso-style-parent:ILbase;
	mso-style-next:ILbase;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
p.ILbullets, li.ILbullets, div.ILbullets
	{mso-style-name:ILbullets;
	mso-style-parent:ILbase;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Bookman Old Style";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.Subhead1, li.Subhead1, div.Subhead1
	{mso-style-name:"Subhead 1";
	mso-style-parent:Headline;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:18.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.Subhead2, li.Subhead2, div.Subhead2
	{mso-style-name:"Subhead 2";
	mso-style-parent:"Subhead 1";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><img width=103
height=77 id="_x0000_i1027" src=bpb.gif><o:p></o:p></span></p>

<p class=ILbase><span style='font-size:24.0pt'>1.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:24.0pt'>DataSets<span style='color:black'> </span></span><span
style='font-family:"Bookman Old Style"'><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>XML Schemas is
one of the bedrocks of the XML world. Learning XML entails mastering of the XML
schemas. The general notion is that after comprehending XML schemas, not only can
you revolutionize the world, but can also generate substantial wealth for
yourself, since thereafter, a hike in salary is a foregone conclusion.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Two programs
named a.cs and b.cs need to be written, which would eventually launch us on a
journey to XML Schemas.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet();</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>One of the
primary applications of XML Schema is that of dealing with data in a database. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the .Net
world, data is stored in a DataTable object. While handling data, we seldom
work with a single table and handle multiple tables simultaneously. The DataSet
object bestowed upon the .Net world can deal with a group of DataTable objects,
since a dataset could be comprised of one or more DataTable objects.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the file a.cs,
an object d of type DataSet is created by calling a constructor without any parameters.
The DataSet class has a function called WriteXmlSchema, which creates the XML
Schema file. In an effort to accomplish this, it takes a string parameter. This
explains why we chose to furnish the name of the file b.xsd. By specifying the
full path of ‘c:\b.xsd’, we have ensured that the file is created in the root
of drive C. The file contains the following:-<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><u>b.xsd</u></p>

<p class=ILprg style='margin-left:.5in'>&lt;?xml version=&quot;1.0&quot;
standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:schema id=&quot;NewDataSet&quot;
xmlns=&quot;&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element
name=&quot;NewDataSet&quot; msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:complexType&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:choice
maxOccurs=&quot;unbounded&quot; /&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:complexType&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:element&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Before we
progress on to explaining the xsd file that gets written in the XML Schema
Programming Language, we shall pen down yet another program named b.cs, which
is aimed at displaying all the details of the xsd file. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, we are
performing two tasks simultaneously:<span style="mso-spacerun: yes"> 
</span>first, we are writing a DataSet object to disk as an XML schema; second,
we are also reading the schema file to discover as to what this file format
contains.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>b.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>XmlDataDocument d = new XmlDataDocument();</p>

<p class=ILprg>DataSet ds;</p>

<p class=ILprg>ds = d.DataSet;</p>

<p class=ILprg>ds.ReadXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>DataTableCollection dtc = ds.Tables;</p>

<p class=ILprg>Console.WriteLine(&quot;Tables count=&quot; + dtc.Count);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Tables count=0</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>XmlDataDocument
is a class that understands XML and data. Therefore, an object d, representing
the class, is created in the file. The object contains a property called
DataSet, which stands for the data and permits access to the xml data in the
XmlDataDocument in the form of tables, views, rows, columns, relations, primary
key, and so on.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The function
ReadXmlSchema is used to read the xsd file. Hence, it is supplied along with
the string parameter of c:\\b.xsd.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Every DataSet
object is known to represent a large number of tables. Using the Tables
property of class DataTableCollection, the variable dtc is initialized. The
DataTableCollection class is derived from interface InternalDataCollectionBase
and has a Count property, which provides a count of the number of tables in the
collection. The resultant answer is displayed as zero.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This corroborates
the fact that the file b.xsd is valid in the Schema world and that it is
error-free.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet();</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;NewDataSet&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>c:\&gt;xmlprg&gt;b</p>

<p class=ILoutput>Tables count=1</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In a.cs, the
modifications that had been effected, have resulted in the addition of a table
to the DataSet object. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Tables
collection gives access to the DataTableCollection object, from which the Add
function is called. This function is passed a freshly minted DataTable object.
Whilst creating this object, the constructor is provided with a string
parameter, which is the name of a table that is to be created, viz. 'vijay'.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><span
style='mso-tab-count:1'>            </span><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>When the program
b.exe is executed, the Tables count displays a value of 1. Thus, it is
indicative of a table definition lurking somewhere within the above xsd file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Now, let us take
a peek into the xsd file and unravel it in greater detail. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>An xsd file is
simply an xml file. All xml files begin with an xml declaration &lt;?xml,
followed by the version property, initialized to 1.0, and further followed by
the standalone attribute property. The property is assigned a value of 'yes',
thereby signifying that there is no external DTD. Every xsd file then has a tag
&lt;xs:schema.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Before we proceed
further, we take a short diversion. In our earnest intent to expound the xsd
file in an enhanced manner, we have resorted to simple files. Therefore, in
file b.xsd located in the root directory, enter the following 2 lines and then,
run the program b.exe on it.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.Xml.XmlException: 'xs' is an
undeclared namespace. Line 2, position 2.</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The exception
gets generated since all the attributes pertaining to the tag xs:schema in the
xsd file, have been eliminated. Click on the ‘No’ button when the debugging box
appears. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The word xs,
which has been placed before schema, is the namespace that the XML framework
wants to familiarize itself with.<o:p></o:p></span></p>

<p class=ILprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema xmlns:xs=&quot;mukhi&quot;&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>No errors are
generated on executing the file b.exe for the above xsd file, since the URI of
the xs namespace has been set to 'mukhi' using the 'reserved' namespace of
xmlns.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema1&quot;&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.ArgumentException: The schema
namespace is invalid. Please use this one instead:
http://www.w3.org/2001/XMLSchema.</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the
eventuality of specifying a wrong name, (as has occurred in the program) an
exception that pinpoints this mistake, gets generated. Besides, a request is
also made to use the valid namespace of http://www.w3.org/2001/XMLSchema.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>When the above
URL is entered in a browser, it connects to the website of www.w3.org and
retrieves a page that describes the official specification of the XML schemas.
Therefore, there is no necessity of supplying any other schema tags at all.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Let us now revert
back and get a better grasp of each schema tag in the program generated xsd
file.<o:p></o:p></span></p>

<p class=ILprg>&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;<span
style='font-family:"Bookman Old Style"'><o:p></o:p></span></p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The schema tag
embodies the definition of the schema. The first attribute 'id' is optional.
The value displayed here is NewDataSet since no name has been assigned to the
DataSet. On providing a value in the constructor of the DataSet class, the
DataSet can be assigned a name that would then be displayed in lieu of
NewDataSet. However, this attribute value must remain unique throughout the XML
file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The attribute
targetNamespace has a value of the URI reference in the namespace. This
namespace is utilized by all the schema components in the schema. The attribute
xmlns also talks about the namespaces employed in the schema and hence, it is a
URI reference. Since the xmlns:xs points to a certain URI, the rules governing
all tags that start with 'xs', shall be stated in the URI document.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;aaa:schema
xmlns:aaa=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;</p>

<p class=ILprg>&lt;/aaa:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above xsd
file displays no errors whatsoever, even though the namespace has been changed
from xs to aaa. The name of the namespace is inconsequential, be it aaa or xs
or xsd. It is merely by convention that the namespace xs is used universally,
and we definitely wish to follow this convention. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The attribute
msdata falls in the same category as xs and would be touched upon subsequently.
There are innumerable other attributes that shall be dealt with progressively,
since they are optional.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Now, let us
venture onto the element tag. An element is the basic entity in an xsd file.
The name is optional if the element is not specified within a schema tag.
However, it is mandatory to have the name attribute if the element is within
the schema and it must follow the namespace specifications.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;NewDataSet&quot;&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The error
depicted below shall be displayed if the name attribute is removed.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.Xml.Schema.XmlSchemaException:
The required attribute 'name' is missing. An error occurred at
file:///c:/b.xsd(3, 2).</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg>&lt;xs:element&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file now
shows no errors as the element tag is placed outside the schema boundaries.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The name
attribute value may be modified to any other name<span style="mso-spacerun:
yes">  </span>since the name that is assigned, does not have any bearing on the
output at all. Thus, it need not always be NewDataSet.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd world is
highly case sensitive. Thus, if an attribute called 'name' is changed to
'Name', i.e. if the small letter 'n' is replaced by the capital letter 'N', the
following exception gets thrown:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.Xml.Schema.XmlSchemaException:
The 'Name' attribute is not supported in this context. An error occurred at
file:///c:/b.xsd(3, 16).</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>An element tag
associates a name with a type. This element tag is then used to represent a
table, a column and all other relational entities. An element can either represent
a simple type or a complex one.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;NewDataSet&quot; msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In this case, the
IsDataSet attribute is set to 'true', thus indicating that whatever ensues is
part of the DataSet world. If this attribute is eliminated, then instead of
representing a DataSet, the element NewDataSet now refers to a table. The
msdata embodies the rules pertaining to this attribute, since it is the
namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Everything that
follows is part of a tag named complexType, which establishes the content type
of the element. We have the option of assigning attributes to it, yet none of
them have been utilized so far. This tag is a type definition for elements.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>...</p>

<p class=ILprg>&lt;xs:complexType name=&quot;aa&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;a1&quot;/&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;a2&quot;/&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;a3&quot;/&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>...</p>

<p class=ILprg>&lt;xs:element name=&quot;yyy&quot; type=&quot;xs:aa&quot;&gt;</p>

<p class=ILprg>...</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>yyy is defined as
an element of type aa, where aa refers to a complex type defining a structure
and information that pertains to the element. The tags placed in the complex
types follow a specific rule.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The next tag that
we encounter is the choice tag. A choice tag in the normal course is followed
by a large number of element tags. The basic idea behind this tag is to select
only one of the elements in the group for the element. It is used to choose one
out of multiple choices. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The maxOccurs
attribute with the choice tag determines the number of occurrences of the
choice. A value of 10 represents 10 choices, while a value of 'unbounded'
signifies that there is no upper ceiling at all on the number of choices.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xsd file,
we have only one element. Therefore, presently, this tag is of no consequence.
The element called 'vijay' evidently symbolizes the name of the table. Since
there is no extra type information available for it, the complexType tag is
left empty.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>A shorter xsd
file that specifies a single table, would be as follows:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;yes&quot;
targetNamespace=&quot;http://www.tempuri.org/&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;yes&quot; &gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The element tag
must be followed by the complexType tag to enable the table 'yes' to be
registered. The element name stands for the name of the table and not for its
id.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Let us now
proceed further.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>t = new DataTable(&quot;sonal&quot;);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above program
introduces yet another instance of a DataTable object, which is created by
passing the constructor a string value of 'sonal'. This results in the creation
of a table called 'sonal'. Then, the Add function is brought into play to add
this table to the collection of tables in the DataSet. Thus, in all, there are
two tables called vijay and sonal in the DataSet object.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot; xmlns=&quot;&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;sonal&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Since the DataSet
class has been assigned the name mukhi in a.cs, the schema for both the
elements display an id of mukhi in the xsd file. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The element tag
operates like a container. It now contains both the table definitions within a
complexType definition. The choice tag also makes sense, since there are two
elements in it, i.e. the two tables vijay and sonal. At this stage, no columns
are added to the tables, therefore, the complexType within both the tables is
empty.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>While the xsd
file is being read, a precise pattern has to be pursued. We start with the
first element named mukhi. It specifies a DataSet mukhi, since the attribute
IsDataSet has a value of 'true'. The complexType defines the dataset
elaborately. The choice permits the display of only one element, or in this
case, one table at a time. Further, the definitions for each table are placed
within their own complexType tags, which at the moment are vacant.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>XmlDataDocument d = new XmlDataDocument();</p>

<p class=ILprg>DataSet ds;</p>

<p class=ILprg>ds = d.DataSet;</p>

<p class=ILprg>ds.ReadXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>DataTableCollection dtc = ds.Tables;</p>

<p class=ILprg>Console.WriteLine(&quot;Tables count=&quot; + dtc.Count);</p>

<p class=ILprg>for (int i = 0; i &lt; dtc.Count; i++) {</p>

<p class=ILprg>DataTable t = ds.Tables[i];</p>

<p class=ILprg>Console.WriteLine(&quot;TableName=&quot; + t.TableName);</p>

<p class=ILprg>DataColumnCollection dcc = t.Columns;</p>

<p class=ILprg>Console.WriteLine(&quot;Columns count=&quot; + dcc.Count);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILoutput><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Tables count=2</p>

<p class=ILoutput>TableName=vijay</p>

<p class=ILoutput>Columns count=0</p>

<p class=ILoutput>TableName=sonal</p>

<p class=ILoutput>Columns count=0</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The b.cs program
displays the names of the tables along with the count of the columns in each
table. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The tables in the
Table Collection are accessed using a 'for' loop statement. Every Data Table
class has a member named TableName that possesses the table name. Thus, using
this property, the table names are printed. Also, using the Columns property,
which is of type DataColumnCollection, the column information can be obtained.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Every Collection
has a property called Count, which provides the number of the objects that it
contains. Thus, the Count property in the DataColumnCollection gives the number
of columns that each table possesses. The result is displayed as zero for both
the tables.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>t = new DataTable(&quot;sonal&quot;);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;Name&quot;, ty );</p>

<p class=ILprg>tc = t.Columns;</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Tables count=2</p>

<p class=ILoutput>TableName=vijay</p>

<p class=ILoutput>Columns count=2</p>

<p class=ILoutput>TableName=sonal</p>

<p class=ILoutput>Columns count=1</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above program
adds columns to the tables named vijay and sonal. Two columns are added to the first
table of vijay, while one column is added to the second table sonal.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the program,
the DataColumnCollection object that is associated with each table, is stored
in an object tc. This has been achieved by employing the property Columns. We
wish to re-iterate the fact that each DataTable has a DataColumnCollection
object that stores the columns in that table. At this stage, no columns are
defined, therefore, this object is null.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Type class
represents a type or a class. Using the static function GetType in this class,
a string representation of a type is specified, so as to create an actual Type
object. Thus, ty represents a String when System.String is supplied as a
parameter. Note how the namespace has been explicitly used. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The DataColumn
constructor accepts two parameters, viz. the name of the column i.e. FirstName,
and the data type of the object i.e. Type. In order to add this DataColumn
object to the DataColumnCollection object, the Add function in the object tc is
called. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the same manner,
one more column named Salary with a data type of int or System.Int32, is added.
After the addition of two columns to the table vijay, a column called Name,
having a data type of String, is added to the second table sonal.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot; xmlns=&quot;&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;sonal&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Name&quot; type=&quot;xs:string&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xsd file,
the two columns in the table vijay are visible along with some content in the
complex type. Apart from this, a new tag called 'sequence' has been initiated
here, which merely asks the elements to fall in line. Thus, the elements have
to occur in a certain order or sequence. The element tag displays the name as
FirstName, i.e. the name of the first column, along with an attribute of type,
for the first time. The attribute value originates from the xs namespace. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>A value of String
in a C# data type gets converted into a string in an xsd file. This goes to
prove that there is a mapping between the .Net data types and the schema data
types. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The second column
depicts a data type of int, since an Int32 structure maps to int in the schema
world. The minOccurs attribute has a value of 0, which entails that it must
occur for a minimum of zero times, i.e. this field is optional.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Henceforth, we
shall not display the initial lines of the xsd file, since they shall
persistently crop up in every file. Also, the code that gets iterated very
often has not been displayed, in order to conserve the number of pages in the
book.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>XmlDataDocument d = new XmlDataDocument();</p>

<p class=ILprg>DataSet ds;</p>

<p class=ILprg>ds = d.DataSet;</p>

<p class=ILprg>ds.ReadXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>DataTableCollection dtc = ds.Tables;</p>

<p class=ILprg>Console.WriteLine(&quot;Tables count=&quot; + dtc.Count);</p>

<p class=ILprg>for (int i = 0; i &lt; dtc.Count; i++)</p>

<p class=ILprg>{</p>

<p class=ILprg>DataTable t = ds.Tables[i];</p>

<p class=ILprg>Console.WriteLine(&quot;TableName=&quot; + t.TableName);</p>

<p class=ILprg>DataColumnCollection dcc = t.Columns;</p>

<p class=ILprg>Console.WriteLine(&quot;Columns count=&quot; + dcc.Count);</p>

<p class=ILprg>for (int j = 0; j &lt; t.Columns.Count; j++)</p>

<p class=ILprg>{</p>

<p class=ILprg>Console.WriteLine(&quot;ColumnName = &quot; +
t.Columns[j].ColumnName + &quot; type = &quot; + t.Columns[j].DataType);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Tables count=2</p>

<p class=ILoutput>TableName=vijay</p>

<p class=ILoutput>Columns count=2</p>

<p class=ILoutput>ColumnName = FirstName type = System.String</p>

<p class=ILoutput>ColumnName = Salary type = System.Int32</p>

<p class=ILoutput>TableName=sonal</p>

<p class=ILoutput>Columns count=1</p>

<p class=ILoutput>ColumnName = Name type = System.String</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above program
has been embellished to delineate all the details of the columns in the table.
The Count property supplies the count of the number of objects in the
collection. Thus, we loop through the collection by using this property. Then,
using the indexer of the DataTableCollection class, the DataTable object is
retrieved and stored in object 't'.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Columns
Collection conducts itself in a manner similar to the Table Collection. Thus,
t.Column[0] accesses Column 0 in the Column Collection. Thereafter, the Column
Name is displayed using the ColumnName property, and the data type is displayed
using the DataType property. In this manner, columns can be added, as well as,
read from the xsd file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>DataColumn [] a = new DataColumn[1];</p>

<p class=ILprg>a[0] = c;</p>

<p class=ILprg>t.PrimaryKey = a;</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above program
explains how a Primary Key can be added to the table. A primary key represents
one or more columns in a table that contains unique values. It is mandatory to
have a primary key in every table, so that one can uniquely identify each row
in a table. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Apart from the
two DataColumns, in order to add a primary key, an array of DataColumn object
'a' is created. This column, which now represents the Primary Key, is then
assigned to the property called PrimaryKey in the Table object, so that it
functions as the primary key. A point to be noted here is that the PrimaryKey
property accepts an array of DataColumn objects and not a single object.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>As is evident,
the first member a[0] in the array of DataColumn object of size, is initialized
to the DataColumn object c. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file that
is created, has the Primary Key representation, following the XML Schema way of
things.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:unique name=&quot;Constraint1&quot;
msdata:PrimaryKey=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//vijay&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;FirstName&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:unique&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Everything
appears analogous to what we had encountered earlier in the above xsd file. The
only variation here is that there exists one more element tag of the DataSet
following the initial complex type tag, which stores the details of the Primary
Key. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The element
commences with a tag of 'unique' to represent the Primary Key with the name of
Constraint1. Notice that this tag has not been included in the DataTable
'vijay'. This is important, because even though the Primary Key is a part of
the DataTable definition, it is stored as a component of the DataSet, and not
of the Table.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The name does not
necessarily represent the name of the primary key. It is generated by the
system in such a manner that it remains unique across all the tags. The
PrimaryKey attribute from the msdata namespace is set to 'true', hence all tags
that follow it are deemed to be a Primary Key.<span style="mso-spacerun: yes"> 
</span><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The unique tag is
followed by two more tags that describe the Primary Keys in greater detail.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The first such
tag is 'selector'. The attribute xpath is an XPath that identifies the table
name containing the Primary Key. The XPath expression has been explained in an
earlier chapter. The field tag passes on the information about the column name
that constitutes the Primary Key.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>If the Primary
Key is constituted of more than one column, i.e. if the array of DataColumn
objects has a size of 2, and if it is assigned 2 columns as its members, then
the xsd file would read as follows:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//vijay&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;FirstName&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;Salary&quot; /&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, contingent
upon the number of columns constituting the primary key, an equal number of
field tags are introduced. The same effect is achieved when the Unique property
of the DataColumn is set, in lieu of the DataTable.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz </p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main() </p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;Sonal&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 200;</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>Console.WriteLine(&quot;Row Count &quot; + t.Rows.Count);</p>

<p class=ILprg>foreach( DataRow rr in t.Rows)</p>

<p class=ILprg>Console.WriteLine(rr[0] + &quot; &quot; + rr[1]);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILoutput><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Row Count 1</p>

<p class=ILoutput>Sonal 200</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Using the NewRow
function present in the DataTable class, a new row can be added to the table. This
function returns an object of datatype DataRow. However, this DataRow is an
empty object. Therefore, the two fields have to be filled up manually. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This can be
achieved by using the indexer with a string, i.e. the field name as the
parameter. The other alternatives would be to either use a syntax such as r[0],
where the field number is stated, or r[c] where c stands for the DataColumn
object. As is very evident, there are a million ways to skin a cat !!!<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This is not all.
This row now has to be added to the RowsCollection that is associated with the
table. The Rows property returns a DataRowCollection object, which in turn
contains an Add function. This function takes a parameter of DataRow that is to
be added. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Once the row has
been added, the collection is checked for sanity purposes. Therefore as before,
a 'for each' statement is used to verify the collection object. In the loop, rr
gets initialized to a fresh DataRow from the Rows collection, and then, the
indexer is used to display the two fields.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The output
establishes the fact that the row has been added. However, surprisingly, on
viewing the xsd file, there is apparently no mention of the data. This can be
attributed to the fact that the WriteXmlSchema function writes only the schema
and not the data. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, in order to
obtain a description of the DataSet in the xsd file, we merely need to replace
the last function named WriteXmlSchema with the following line:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>d.WriteXml(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;mukhi&gt;</p>

<p class=ILprg>&lt;vijay&gt;</p>

<p class=ILprg>&lt;FirstName&gt;Sonal&lt;/FirstName&gt;</p>

<p class=ILprg>&lt;Salary&gt;200&lt;/Salary&gt;</p>

<p class=ILprg>&lt;/vijay&gt;</p>

<p class=ILprg>&lt;/mukhi&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The data is now
visible in the file. You may ignore the file extension for the time being. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The file b.xsd
now contains the name of the DataSet mukhi as the root tag. It is followed by
the name of the table vijay, and thereon, the data is placed within the
respective field names. Thus, it is advisable to write both the Write
functions, one for writing the data WriteXml and the other for writing the
schema WriteXmlSchema. But do ensure that they are assigned distinctive
filenames.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></u></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></u></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'>Column
Attributes</span></u><span style='font-family:"Bookman Old Style"'><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>....</p>

<p class=ILprg><b>c1 = new DataColumn(&quot;Salary&quot;, ty );</b></p>

<p class=ILprg>c1.DefaultValue = 20;</p>

<p class=ILprg><b>tc.Add(c1);</b></p>

<p class=ILprg>....</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the above
program, the property DefaultValue is initialized to a value of 20. This property,
as the name suggests, assigns a value to a field if it is not in possession of
one. Thus, when no value is assigned to the field salary, it is guaranteed of
being assigned a value of 20.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>....</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
default=&quot;20&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>....</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the schema
definition file, the element tag shows an attribute of 'default', which takes a
value of 20. Thus, the property default in the DataColumn merely gets transformed
into an attribute in the xsd file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Now, replace the
property of DefaultValue with the following line: <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>c1.Caption = &quot;age&quot;;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Caption
property is generally utilized by controls, such as the DataGrid for providing
a more aesthetically appealing display. If this property is not set, the
ColumnName property is used instead. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The property
representation in the xsd file is as follows<o:p></o:p></span></p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot;
msdata:Caption=&quot;age&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot;
/&gt;<span style="mso-spacerun: yes">  </span></p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase>The attribute belongs to the namespace of msdata.</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg style='margin-left:.5in'>c1.AutoIncrement = true; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The AutoIncrement
property is to be used when we want the system to increment the value of a
column. Thus, when the property is turned 'on', the value cannot be modified
manually. Instead, the system achieves it automatically.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;Salary&quot;
msdata:AutoIncrement=&quot;true&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The AutoIncrement
property also becomes an attribute named AutoIncrement in the msdata space. The
default for the AutoIncrement property is 'false'. However, if the property is
initialized to 'false', it does not show up in the xsd file, since attributes
with default values are not written.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>c1.ReadOnly = true; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The ReadOnly
attribute prohibits any changes to the data in the column. Obviously, we are
allowed to add a row on the first occasion, but thereafter, changes are not
permitted.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;Salary&quot;
msdata:ReadOnly=&quot;true&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILbase><span style="mso-spacerun: yes"> </span>Most properties are
converted into their equivalent attributes from the msdata namespace. The
ReadOnly property is no exception to this rule. Therefore, in the xsd file, the
attribute ReadOnly is initialized to 'true'.</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>c1.ExtendedProperties.Add(&quot;sonal&quot;,&quot;wife&quot;);
</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The
ExtendedProperties property is of type PropertyCollection. It is used to store
custom information with every column. The framework has no inclination towards
determining its content. For e.g., it could be a number that gets flagged when
the data stored in this column needs to be changed. Thus, it is entirely the
user's prerogative to decide on what data to store, and how to dispense with
the stored data.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Every collection
object has an Add function. In the case of the Property collection, this
function accepts two parameters, viz. the name of the property 'sonal' and its
value 'wife'. The xsd file that gets created, displays the following additional
line:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;Salary&quot;
msprop:sonal=&quot;wife&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot;
/&gt;</p>

<p class=ILbase>These properties are associated with the column and not with
the table or dataset. Therefore, they are reflected as attributes of the
element or the column, salary. </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The world of XML
is ensconced in tags. An xml file can originate from any one of the numerous
sources from all over the world. Therefore, the concept of a namespace is very
central to the XML world.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The tag ‘name’ is
very common. It could stand for the name of a friend, a supplier, a customer or
even for man's best friend- a dog. It would be extremely difficult to infer
what a tag name signifies, since everyone is at liberty to assign a different
meaning to it. Thus, to overcome this lacuna, every tag has to be prefaced by a
name or a prefix called the namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, the
attribute of sonal is prefixed with the word msprop, which is the namespace.
Further, the details about this namespace, the rules of the tag and the
attribute usage, et al, would be stored at some place in the file. The custom
attributes invariably take the form of name-value pairs in the msprop
namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>c1.ExtendedProperties.Add(&quot;sonal&quot;,&quot;wife&quot;);</p>

<p class=ILprg>c1.ExtendedProperties.Add(&quot;vijay&quot;,&quot;husband&quot;);</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Every entity
called a Collection class provides the flexiblility of handling more than one
of its kind. The above two lines effectively associate the two properties of
'sonal' and 'vijay' with the DataColumn Salary, which is clearly discernible in
the xsd file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot;
msprop:sonal=&quot;wife&quot; msprop:vijay=&quot;husband&quot;
type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The element of
Salary is now displayed with two properties in the form of two separate
name-value pairs. We can have innumerable attributes in an element tag.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>c.MaxLength = 12; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The MaxLength
property is more of an error-check. It is basically provided for apprizing the
system that the length of the characters in the column should not exceed its
value. The xsd file does not contain this data within itself for reasons
unknown.<span style="mso-spacerun: yes">  </span>However, on changing the value
of the DataColumn c, which is the string type column, FirstName and not the
DataColumn c1 Salary of type int, the following exception gets generated:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.ArgumentException: MaxLength
applies to string data type only. You cannot set Column 'Salary' property
MaxLength to be non-negative number.</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, the system
does not permit this property to be added to a non-string type column, but
neither does it make the property, a part of the xml schema.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>c1.Namespace = &quot;zzz&quot;; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Using the
Namespace property, the Namespace of the DataColumn c1 is set to zzz.<o:p></o:p></span></p>

<p class=ILprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot; xmlns=&quot;&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema</p>

<p class=ILprg>xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
xmlns:app1=&quot;zzz&quot;&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:import
namespace=&quot;zzz&quot; schemaLocation=&quot;b_app1.xsd&quot; /&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:element
name=&quot;mukhi&quot; msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:complexType&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:element
name=&quot;vijay&quot;&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:complexType&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:sequence&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:element
name=&quot;FirstName&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;xs:element
ref=&quot;app1:Salary&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:sequence&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:complexType&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:element&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:choice&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:complexType&gt;</p>

<p class=ILprg><span style="mso-spacerun: yes"> </span>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>On accomplishing
this, a new attribute or a prefix from the xmlns namespace called app1, gets
created in the schema. This attribute is assigned the value of the namespace
zzz. Thus, any attribute or tag prefaced with app1 belongs to the namespace
zzz.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The 'import' tag
identifies a namespace whose entities or schema components are referenced by
this schema. The namespace attribute is the most vital one, since it specifies
the name of the namespace, in our case, zzz. This is the URI reference to the
namespace that is to be imported, since the members are being referenced from
it.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xsd file,
there exist attributes or tags that contain references to components in the
namespace zzz. These references are through prefixes declared earlier in the
schema tag. In our specific case, the prefix is called app1, which is declared
with the xmlns attribute. If this attribute is omitted, then the current schema
shall contain unqualified references.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The attribute
schemaLocation has a value of </span>b_app1.xsd<span style='font-family:"Bookman Old Style"'>
that stands for a URI. It is a URI reference to the location of the schema
document, which contains the imported namespace. If this attribute is absent,
then the xml document figures out the identification of the schema on its own. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This file
presently dwells on our disk in the current folder, where all our files are
stored. Its contents are as follows:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b_app1.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot; xmlns=&quot;zzz&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot;
elementFormDefault=&quot;qualified&quot; xmlns:app1=&quot;zzz&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
/&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg>c1.Prefix = &quot;zzz&quot;;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Prefix
property of c1 is now initialized to zzz in the program.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot;
msdata:Prefix=&quot;zzz&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot;
/&gt; </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This sets the
Prefix attribute in the msdata namespace to zzz. This is the XML prefix that
aliases, or in other words, is another name for the namespace of the DataTable.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Chap&quot;, ty ,&quot;Salary *
10&quot;, MappingType.Attribute);</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;Sonal&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 42;</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;tina&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 22;</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>d.WriteXml(&quot;c:\\b.xml&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This program
simply adds one more column to the already existing columns of Salary and
FirstName. The different constructors in the DataColumn class take a varied
number of parameters. The one used in the above program has four parameters. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The first
parameter is the name of the column Chap. The second is the data type of the
column Int32. The third column is the computed field. Therefore, it has been
given a string that represents any valid expression. It multiplies the value in
the field Salary by 10. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Any valid
expression may be used here, while ensuring that the field names must be
present in the table. Thus, having an expression of aa * 10 will throw the
following exception<o:p></o:p></span></p>

<p class=ILoutput><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILoutput><u>Error</u></p>

<p class=ILoutput>Unhandled Exception: System.Data.EvaluateException: Cannot
find column [aa].</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The last
parameter is an enum named MappingType that shall be explicated shortly. In
addition to the column, two rows are added to the table. The XML file is also
written to a separate file named b.xml.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><u>b.xsd</u></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element
name=&quot;vijay&quot;&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:complexType&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:sequence&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element
name=&quot;FirstName&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;
msdata:Ordinal=&quot;0&quot; /&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;Salary&quot;
type=&quot;xs:int&quot; minOccurs=&quot;0&quot; msdata:Ordinal=&quot;1&quot;
/&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:sequence&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:attribute name=&quot;Chap&quot;
msdata:ReadOnly=&quot;true&quot; msdata:Expression=&quot;Salary * 10&quot;
type=&quot;xs:int&quot; /&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:complexType&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/xs:element&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file
includes only two elements or column names despite the presence of three
columns. This is because, the third one being a computed column, does not
qualify as a real column. This column is never assigned a value directly. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>An extra
attribute named Ordinal has been created. As always, it is a part of the msdata
space, with a value of 0 for the first column, and 1 for the second column.
This is by virtue of each column being assigned a number starting with zero and
then, progressively increasing it by one.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The attribute tag
is placed outside the sequence tag but inside the element tag vijay. The name
is self-explanatory. An attribute is created, wherein the name attribute is the
name of the computed column Chap. The ReadOnly property is set to 'true', since
its value is incapable of being modified. The Expression attribute is an exact
replica of the string parameter passed to the constructor.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><u>b.xml</u></p>

<p class=ILprg style='margin-left:.5in'>&lt;?xml version=&quot;1.0&quot;
standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;mukhi&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;vijay Chap=&quot;420&quot;&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;FirstName&gt;Sonal&lt;/FirstName&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Salary&gt;42&lt;/Salary&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;vijay Chap=&quot;220&quot;&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;FirstName&gt;tina&lt;/FirstName&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Salary&gt;22&lt;/Salary&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/mukhi&gt;</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xml file
exhibits the two columns of FirstName and Salary as tags bound with their data
values. The name of the table, vijay is associated with each row. Hence, it is
seen twice, whereas the name of the DataSet mukhi is specified only once. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>A point to be
noted here is that the computed column is shown as an attribute of the table.
As a result of this, the schema makes a clear demarcation. The computed column
does not belong to the category of the table columns, as it is not assigned a
value directly. It becomes an attribute to the table tag vijay. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Now, incorporate
a small change to the above C# program by modifying the last parameter from
MappingType.Attribute to MappingType.Element.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;xs:element name=&quot;Chap&quot;
msdata:ReadOnly=&quot;true&quot; msdata:Expression=&quot;Salary * 10&quot;
type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The change in the
parameter modifies the column Chap from an attribute to an element, as is seen
in the xsd file. Its ReadOnly property becomes 'true', whereas the Expression
attribute remains unchanged. The minOccurs takes a value of zero, signifying
that it is optional. The Ordinal attribute on both the earlier elements is not
visible either.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><u>b.xml</u></p>

<p class=ILprg style='margin-left:.5in'>&lt;?xml version=&quot;1.0&quot;
standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;mukhi&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;FirstName&gt;Sonal&lt;/FirstName&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Salary&gt;42&lt;/Salary&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Chap&gt;420&lt;/Chap&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;FirstName&gt;tina&lt;/FirstName&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Salary&gt;22&lt;/Salary&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;Chap&gt;220&lt;/Chap&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/vijay&gt;</p>

<p class=ILprg style='margin-left:.5in'>&lt;/mukhi&gt;</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xml file is
more straightforward. Here, the value of 420 is enveloped within the field tag
of Chap. It is no longer an attribute to the tag vijay. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus,
MappingTypes deal only with the representation of the column data in the xml
files, which may either be an attribute or an element. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>There are two
more options of the MappingType, which we will tackle now. Change the value of the
last parameter to the DataColumn constructor from MappingType.Element to
MappingType.Hidden.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>&lt;xs:attribute name=&quot;Chap&quot;
msdata:ReadOnly=&quot;true&quot; msdata:Expression=&quot;Salary * 10&quot;
type=&quot;xs:int&quot; use=&quot;prohibited&quot; /&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xsd file,
the column shows up as an attribute as before, but this time, it has an extra
attribute called 'use', which is set to 'prohibited'. This attribute determines
the use of the attribute, and is permitted any one of five different values.
The value of 'prohibited' obviously denies any access to the attribute.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xml file,
there is no trace of the column Chap. It is because the value of 'hidden'
assigned to the attribute, restricts the column from showing up in the xml
file.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The last value
that can be assigned to MappingType is MappingType.SimpleContent. However, this
attribute can only be applied to a text element.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>c.AutoIncrement = true;</p>

<p class=ILprg>c.AutoIncrementSeed = 1000;</p>

<p class=ILprg>c.AutoIncrementStep = 10;</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>r = t.NewRow();</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>d.WriteXml(&quot;c:\\b.xml&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot;
msdata:AutoIncrement=&quot;true&quot; msdata:AutoIncrementSeed=&quot;1000&quot;
msdata:AutoIncrementStep=&quot;10&quot; </p>

<p class=ILprg>type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>A few lines in
the .cs file have been modified. This results in the addition of the same
column Salary as seen earlier, but this time, with a slight difference- the
addition of three properties. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The first one is
AutoIncrement, which is set to 'true', thereby allowing the system to change
the property. The default value is obviously 'false'. The second property is
AutoIncrementSeed, which decides on the starting value of the field salary,
i.e. 1000. Finally, the Step attribute determines the incrementing factor each
time. The default value of 1 is changed to 10.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The properties in
the DataColumn class become attributes from the msdata namespace, as has been
witnessed earlier on infinite occasions.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>b.xml</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;mukhi&gt;</p>

<p class=ILprg>&lt;vijay&gt;</p>

<p class=ILprg>&lt;Salary&gt;1000&lt;/Salary&gt;</p>

<p class=ILprg>&lt;/vijay&gt;</p>

<p class=ILprg>&lt;vijay&gt;</p>

<p class=ILprg>&lt;Salary&gt;1010&lt;/Salary&gt;</p>

<p class=ILprg>&lt;/vijay&gt;</p>

<p class=ILprg>&lt;/mukhi&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The XML file
renders a lucid insight into the functioning of the attributes.<span
style="mso-spacerun: yes">  </span>Two rows are added in the program without
any fields being initialized. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The FirstName tag
or field is not seen in the XML output. Also, since the Salary field has the
property of AutoIncrement set to 'true', the first row shows the initial value
as 1000, while the second row displays a value of 1010, as a result of the
increment factor being 10.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'>DataTable
Properties</span></u><span style='font-family:"Bookman Old Style"'><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>t.CaseSensitive = true;</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;
msdata:CaseSensitive=&quot;True&quot;&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Whenever string
comparisons are made within the table, the case is taken into consideration.
The string comparisons are normally performed at the time of sorting, searching
and filtering the DataTable. Since this property is part of the DataTable
class, it is shown as an attribute of CaseSensitive from the msdata namespace,
in the element delineating a data table. The default value is 'false' and hence,
it does not show up at all on most occasions. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>t.MinimumCapacity = 100;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The
MinimumCapacity property determines the minimum starting size of the table. At
the time of creation of the table, if for instance, the system allocates 10
rows, and the data to be fetched is 1000 rows, then the size of the table would
have to be expanded. This property is utilized for augmenting performance. With
the above statement, the size is set to 100 rows.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;vijay&quot;
msdata:MinimumCapacity=&quot;100&quot;&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The property becomes
a MinimumCapacity attribute in the msdata namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>t.Prefix = &quot;zzz&quot;;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Prefix
property purports itself in a manner akin to what we have witnessed earlier in
the case of a DataColumn, where it merely adds a simple attribute to the xsd
file.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;vijay&quot;
msdata:Prefix=&quot;zzz&quot;&gt;<span style='font-family:"Bookman Old Style"'><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'>DataSet
Properties<o:p></o:p></span></u></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>We now venture
into the realm of DataSet properties and use the DataSet object 'd' to set its
properties. Introduce the following lines between the first and the last
statement as shown below.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>...</p>

<p class=ILprg><b>ty = Type.GetType(&quot;System.String&quot;);</b></p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>DataColumn c1;</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>d.Prefix=&quot;zzz&quot;;</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;Sonal&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 200;</p>

<p class=ILprg><b>t.Rows.Add(r);</b></p>

<p class=ILprg>...</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>...</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot; msdata:Prefix=&quot;zzz&quot;&gt;</p>

<p class=ILprg>...</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Prefix
property conducts itself in a fashion similar to the one described earlier for
the DataColumn and DataTable. A simple attribute gets added to the element
representing the data set.<o:p></o:p></span></p>

<p class=ILprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>d.Namespace=&quot;zzz&quot;;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;Sonal&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 200;</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>Console.WriteLine(&quot;Row Count &quot; + t.Rows.Count);</p>

<p class=ILprg>foreach( DataRow rr in t.Rows)</p>

<p class=ILprg>Console.WriteLine(rr[0] + &quot; &quot; + rr[1]);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILoutput><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILoutput><u>Output</u></p>

<p class=ILoutput>Row Count 1</p>

<p class=ILoutput>Sonal 200</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot;
xmlns=&quot;zzz&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot;
elementFormDefault=&quot;qualified&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>On setting the
namespace property of the DataSet, a large number of attributes that are set
for the schema element, come into play. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The
targetNamespace is set to the namespace of zzz, which is a uri reference. Zzz
is the namespace of all schema components in this schema file. The xmlns
attribute too is set to zzz, which is a uri reference. Thus, all the components
that are unqualified, belong to the zzz namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Alternatively, if
the attribute of xmlns:aaa =&quot;yyy&quot; is entered, then the ones with a
prefix aaa belong to the yyy namespace. These namespace names are normally
analogous to the xsd prefix http://www.w3.org/2001/XMLSchema, which is an
entire URL. Here, we have employed a shorter name instead.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The attribute
named attributeFormDefault can assume any of the two values of either
'qualified' or 'unqualified'. The default value is 'unqualified'. Its value
reflects directly on the attributes that are present in the target namespace.
It determines whether the attributes must be qualified or not. If the value is
'unqualified', then there is no requirement to qualify the attributes present,
from the target namespace with the namespace prefix.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>However, if the
'qualified' option is selected, as has been done by us, then the attributes
from the target namespace have to be qualified with the namespace prefix. This
setting is globally valid for each of the attributes, but it can easily be
altered for each individual attribute, by using the 'form' attribute.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The
elementFormDefault attribute is exclusive to elements, and it behaves in a
manner similar to the earlier attribute that had dealt with the attributes.
Now, replace the line of d.Namespace with the following:<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>t.Namespace = &quot;zzz&quot;;</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
xmlns:app1=&quot;zzz&quot;&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz&quot;
schemaLocation=&quot;b_app1.xsd&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element ref=&quot;app1:vijay&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Akin to assigning
a value to the namespace property of the DataSet, the namespace property of the
table too can be set. The same restrictions that had existed thereon, apply
here also, such as- in the creation of the prefix app1, etc. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The lone point to
be borne in mind is that, no columns are visible whatsoever, even though there
is a mention of the table vijay. Moreover, the 'ref' keyword is introduced with
vijay. However, the DataSet of 'mukhi' still meets the eye.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The following
lines have been inserted in the C# program:<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>d.Namespace = &quot;zzz&quot;;</p>

<p class=ILprg>t.Namespace = &quot;zzz&quot;;</p>

<p class=ILprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot;
xmlns=&quot;zzz&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot; elementFormDefault=&quot;qualified&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot; msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The namespace of
the DataSet mukhi and that of the table vijay are set to zzz. On doing so, the
columns appear in the file and the 'ref' attribute is replaced with 'name'
keyword.<span style="mso-spacerun: yes">  </span>Since the dataset and the
datatable belong to the same namespace, no prefixes are added to any of the
elements.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>For the next
program, let the two DataColumn objects belong to the zzz namespace.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz {</p>

<p class=ILprg>public static void Main() </p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>d.Namespace=&quot;zzz&quot;;</p>

<p class=ILprg>t.Namespace=&quot;zzz1&quot;;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>c.Namespace = &quot;zzz&quot;;</p>

<p class=ILprg>c1.Namespace = &quot;zzz&quot;;</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataRow r = t.NewRow();</p>

<p class=ILprg>r[&quot;FirstName&quot;] = &quot;Sonal&quot;;</p>

<p class=ILprg>r[&quot;Salary&quot;] = 200;</p>

<p class=ILprg>t.Rows.Add(r);</p>

<p class=ILprg>Console.WriteLine(&quot;Row Count &quot; + t.Rows.Count);</p>

<p class=ILprg>foreach( DataRow rr in t.Rows)</p>

<p class=ILprg>Console.WriteLine(rr[0] + &quot; &quot; + rr[1]);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot;
xmlns=&quot;zzz&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot; elementFormDefault=&quot;qualified&quot;
xmlns:app1=&quot;zzz1&quot;&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz1&quot;
schemaLocation=&quot;b_app1.xsd&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
/&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element ref=&quot;app1:vijay&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The element tag
again has a 'ref' attribute added to it, but without any type element. This
happens because 'type' and 'ref' are mutually exclusive. The 'ref' attribute
merely indicates that this element would reference an element called FirstName,
which dwells in the app1 namespace prefix. In turn, app1 points to the zzz1
namespace. The 'ref' attribute comes to the fore when the dataset namespace and
the table namespace do not match. <o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>c.Namespace = &quot;zzz1&quot;;</p>

<p class=ILprg>c1.Namespace = &quot;zzz2&quot;;</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot;
xmlns=&quot;zzz&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot;
elementFormDefault=&quot;qualified&quot; xmlns:app1=&quot;zzz2&quot;
xmlns:app2=&quot;zzz1&quot;&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz2&quot;
schemaLocation=&quot;b_app1.xsd&quot; /&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz1&quot;
schemaLocation=&quot;b_app2.xsd&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element ref=&quot;app2:vijay&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>If we change the
namespace of the first column to zzz1 and of the second column to zzz2 in the
xsd file, then besides the namespace prefix for the table, two additional
namespace prefixes viz. app1 and app3 are created. Thus, there are a total of
three import tags. Now, reintroduce the following statement in a.cs: <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>d.Namespace=&quot;zzz&quot;;</p>

<p class=ILprg>t.Namespace=&quot;zzz&quot;;</p>

<p class=ILprg>...</p>

<p class=ILprg>...</p>

<p class=ILprg>c.Namespace = &quot;zzz1&quot;;</p>

<p class=ILprg>c1.Namespace = &quot;zzz2&quot;;</p>

<p class=ILbase><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file now
reveals that the first 'ref' attribute has FirstName prefixed with app1, and
the second 'ref' attribute has salary prefixed with app2, since they belong to
different namespaces.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot;
targetNamespace=&quot;zzz&quot; xmlns:mstns=&quot;zzz&quot;
xmlns=&quot;zzz&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
attributeFormDefault=&quot;qualified&quot;
elementFormDefault=&quot;qualified&quot; xmlns:app1=&quot;zzz1&quot;
xmlns:app2=&quot;zzz2&quot;&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz2&quot;
schemaLocation=&quot;b_app2.xsd&quot; /&gt;</p>

<p class=ILprg>&lt;xs:import namespace=&quot;zzz1&quot; schemaLocation=&quot;b_app1.xsd&quot;
/&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element ref=&quot;app1:FirstName&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element ref=&quot;app2:Salary&quot; minOccurs=&quot;0&quot;
/&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The salient point
to be commited to memory is that, if the DataTable belongs to the zzz namespace
and the DataSet belongs to the zzz namespace, then there would be no import
statement for the table in the schema. The DataColumn may not belong to the
same namespace. If it does, the element uses the name attribute. If it does
not, the 'ref' attribute is used instead, but sans the type attribute.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>You may
experiment with various permutations and combinations to validate the above
statement. For e.g.<o:p></o:p></span></p>

<p class=ILprg>c.Namespace = &quot;zzz&quot;; </p>

<p class=ILprg>c1.Namespace = &quot;zzz2&quot;;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>There are some
things in life that never change. So also is the case with the property of
ExtendedProperties, which works in the same manner here as it did with the
DataColumn class. The only modification being the addition of the property to
the DataSet element mukhi.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg style='margin-left:.5in'>d.ExtendedProperties.Add(&quot;cat&quot;,&quot;good&quot;);</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg style='margin-left:.5in'>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot; msprop:cat=&quot;good&quot;&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In one of the
previous examples, we demonstrated two ways by which a column can possess
unique values. Yet another way of achieving this is by creating an object of
instance UniqueConstraint and passing the column c or FirstName, which must be
unique, to its constructor. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>As usual, the
Constraints property is a collection object and hence, the Add function is
required in order to add the constraint to it.<o:p></o:p></span></p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>UniqueConstraint u;</p>

<p class=ILprg>u = new UniqueConstraint(c);</p>

<p class=ILprg>t.Constraints.Add(u);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:unique name=&quot;Constraint1&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//vijay&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;FirstName&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:unique&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the xsd file, the
same line gets written, as was the case with the Primary key or Unique
property.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg>d.EnforceConstraints = false;</p>

<p class=ILprg style='margin-left:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Setting the
property EnforceConstraints to 'false' would result in a ban on all
enforcements of the constraint. Thus, the xsd file remains almost identical,
since the above property merely becomes an attribute in the msdata namespace
with the same name.<o:p></o:p></span></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;
msdata:EnforceConstraints=&quot;False&quot;&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><u><span style='font-family:"Bookman Old Style"'>Foreign Key<o:p></o:p></span></u></p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz</p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;mukhi&quot;);</p>

<p class=ILprg>DataTableCollection dtc;</p>

<p class=ILprg>dtc = d.Tables;</p>

<p class=ILprg>DataTable t = new DataTable(&quot;vijay&quot;);</p>

<p class=ILprg>DataColumnCollection tc = t.Columns;</p>

<p class=ILprg>DataColumn c,c1;</p>

<p class=ILprg>Type ty;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c = new DataColumn(&quot;FirstName&quot;, ty );</p>

<p class=ILprg>tc.Add(c);</p>

<p class=ILprg>ty = Type.GetType(&quot;System.Int32&quot;);</p>

<p class=ILprg>c1 = new DataColumn(&quot;Salary&quot;, ty );</p>

<p class=ILprg>tc.Add(c1);</p>

<p class=ILprg>dtc.Add(t);</p>

<p class=ILprg>DataTable t1 = new DataTable(&quot;vijay1&quot;);</p>

<p class=ILprg>DataColumnCollection tc1 = t1.Columns;</p>

<p class=ILprg>DataColumn c2;</p>

<p class=ILprg>ty = Type.GetType(&quot;System.String&quot;);</p>

<p class=ILprg>c2 = new DataColumn(&quot;LastName&quot;, ty );</p>

<p class=ILprg>tc1.Add(c2);</p>

<p class=ILprg>dtc.Add(t1);</p>

<p class=ILprg>ForeignKeyConstraint f = new ForeignKeyConstraint(c2,c);</p>

<p class=ILprg>t.Constraints.Add(f);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;mukhi&quot; xmlns=&quot;&quot;
xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;mukhi&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;FirstName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Salary&quot; type=&quot;xs:int&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay1&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;LastName&quot;
type=&quot;xs:string&quot; minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:unique name=&quot;vijay1_Constraint1&quot;
msdata:ConstraintName=&quot;Constraint1&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//vijay1&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;LastName&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:unique&gt;</p>

<p class=ILprg>&lt;xs:keyref name=&quot;Constraint1&quot;
refer=&quot;vijay1_Constraint1&quot; msdata:ConstraintOnly=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//vijay&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;FirstName&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:keyref&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The above example
expounds the concept of a Foreign Key Constraint.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Let us take a
simple example to understand the concept of a Foreign Key. Every business has
customers who are normally attended to, during the course of the daily
business. In such a case, every customer is assigned a unique ID, and the
details are placed in a table called customers. In most cases, this customer id
column is made the Primary Key.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>All the details
of the sales made to these customers are documented in a Data Table such as 'sales'.
Therefore, it contains the column called ID or CustomerID, which holds the id
of the customer. However, in the sales table, the column is not unique across
records, but the data in this column will originate from the same domain or
from the same list of customers.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, in the
first table, the customer id is called the Primary Key, and wherever else this
column appears, it is known as the Foreign Key. There is no means by which a value
can be entered for the Foreign Key, unless such a value is already present as a
Primary Key. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In XML, this
Constraint is enforced by the class named ForeignKeyConstraint. This class also
controls certain other issues. For example, it dictates as to what should
happen to the foreign key value present in the other tables, incase the Primary
Key gets deleted. For instance, should it be mandatory for the user to delete
the Foreign Key values first? Should the System delete them? Or, should they
remain as they are?<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>As always, the
program starts by creating a table named vijay and furnishing it with two
columns: the first column is named FirstName, which is represented by
DataColumn object c, and the second column is called Salary. Next, it creates
another table named vijay1 containing the columns of LastName and the
DataColumn object c2. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The class
ForeignKeyConstraint has a constructor that takes two DataColumn type
parameters: the first is the parent column or the Primary Key, and the second
is the child column. Thus, the LastName column is the Primary Key and the
FirstName column is the Foreign Key.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file
displays two tables: vijay with the columns FirstName and Salary, and vijay1
with the field LastName. Thereafter, at the end of the tables, but within the
DataSet definition, two constraints are visible.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The tag is of
type unique and is assigned the name vijay1_Constraint1 with the attribute
ConstraintName from the msdata space as Constraint1. The unique tag asserts
that the attribute or element must have a unique value within the scope. Thus,
the name vijay1_Constraint1 must be unique within the schema.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The path points
to the table vijay1. The field within that table is LastName since it is the
Parent Key of the ForiegnKeyConstraint. Thus, it must be Unique or the Primary
Key. Then, there is a tag called keyref. The name of the 'name' attribute
remains the same as that of the unique tag property ConstraintName Constraint1.
The 'refer' attribute has the same value as that of the 'name' attribute of the
unique tag vijay1_Constraint1.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>Thus, the above
implies that the table 'vijay' mentioned in the selector tag xpath attribute
and the field FirstName, must refer to the field LastName in the vijay1 table.
As this relationship is a Constraint, the ConstraintOnly property is set to
'true'. This definitely is an allusive way of implementing a
ForeignKeyConstraint !<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILprg><u>a.cs</u></p>

<p class=ILprg>using System;</p>

<p class=ILprg>using System.IO;</p>

<p class=ILprg>using System.Xml;</p>

<p class=ILprg>using System.Data;</p>

<p class=ILprg>public class zzz </p>

<p class=ILprg>{</p>

<p class=ILprg>public static void Main()</p>

<p class=ILprg>{</p>

<p class=ILprg>DataSet d = new DataSet(&quot;vijay&quot;);</p>

<p class=ILprg>DataTable tC = new DataTable(&quot;Cust&quot;);</p>

<p class=ILprg>DataTable tO = new DataTable(&quot;Ord&quot;);</p>

<p class=ILprg>DataColumn c1 = new DataColumn(&quot;CID&quot;);</p>

<p class=ILprg>DataColumn c2 = new DataColumn(&quot;CName&quot;);</p>

<p class=ILprg>tC.Columns.Add(c1);</p>

<p class=ILprg>tC.Columns.Add(c2);</p>

<p class=ILprg>DataColumn c = new DataColumn(&quot;CusID&quot;);</p>

<p class=ILprg>tO.Columns.Add(c);</p>

<p class=ILprg>d.Tables.Add(tC);</p>

<p class=ILprg>d.Tables.Add(tO);</p>

<p class=ILprg>DataRelation dr = new DataRelation(&quot;custToOrders&quot;, c1
, c);</p>

<p class=ILprg>d.Relations.Add(dr);</p>

<p class=ILprg>d.WriteXmlSchema(&quot;c:\\b.xsd&quot;);</p>

<p class=ILprg>}</p>

<p class=ILprg>}</p>

<p class=ILprg><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></p>

<p class=ILprg><u>b.xsd</u></p>

<p class=ILprg>&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;</p>

<p class=ILprg>&lt;xs:schema id=&quot;vijay&quot; targetNamespace=&quot;&quot;
xmlns=&quot;&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;vijay&quot;
msdata:IsDataSet=&quot;true&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Cust&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;CID&quot; type=&quot;xs:string&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;CName&quot; type=&quot;xs:string&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;Ord&quot;&gt;</p>

<p class=ILprg>&lt;xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:sequence&gt;</p>

<p class=ILprg>&lt;xs:element name=&quot;CusID&quot; type=&quot;xs:string&quot;
minOccurs=&quot;0&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:sequence&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:choice&gt;</p>

<p class=ILprg>&lt;/xs:complexType&gt;</p>

<p class=ILprg>&lt;xs:unique name=&quot;Constraint1&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//Cust&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;CID&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:unique&gt;</p>

<p class=ILprg>&lt;xs:keyref name=&quot;custToOrders&quot; refer=&quot;Constraint1&quot;&gt;</p>

<p class=ILprg>&lt;xs:selector xpath=&quot;.//Ord&quot; /&gt;</p>

<p class=ILprg>&lt;xs:field xpath=&quot;CusID&quot; /&gt;</p>

<p class=ILprg>&lt;/xs:keyref&gt;</p>

<p class=ILprg>&lt;/xs:element&gt;</p>

<p class=ILprg>&lt;/xs:schema&gt;</p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>One of the more
useful concepts in data base handling is that of a parent-child relationship, or
a master-detail relationship, or a one-to-many relationship. The parent could
be a list of customers, while the child could be the list of orders placed by
each customer. We begin by creating a DataSet called vijay, and two tables
named Cust and Ord.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The Cust table
has two columns, CID for the Customer ID, and Cname for the name of the
customer. The second table named ord only contains the Customer id in a column
called CusID. Thus, for every unique customer id CID in the Cust table, there
exist multiple records in the Ord table.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This relationship
is expressed with the help of the class DataRelation. <o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>In the
constructor, the following are specified:<o:p></o:p></span></p>

<p class=ILbullets>The name of the relation, custToOrders.</p>

<p class=ILbullets>The 'parent' or the 'one' column c1, which is the column CID
from the Cust table.</p>

<p class=ILbullets>The 'child' or the 'many' column c from the Ord table. </p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>This relation is
then added to the dataset by using the Relations property and the Add function
of the Collections object.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The xsd file as before,
creates the two tables, viz. the Cust table with the columns CID and Cname, and
the Ord table with the single column CusID. Then, we encounter the unique tag,
which has the name property set to Constraint1, which points to the table Cust
and field name CID, by using the selector tag. To refresh your memory, this
field is the Primary Key.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The keyref now
uses the name that is supplied to the DataRelation constructor, custToOrders.
In the earlier case, the name was generated by the system. The 'refer'
attribute points to the constraint Constraint1. It is this attribute that
determines the field in the table that is to be referred to and not the name
property.<o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=ILbase><span style='font-family:"Bookman Old Style"'>The keyref
obviously points to the Ord table and to the field CusID, since this is child
key. The variation from the Foreign Key example is that, there is no attribute
called ConstraintOnly, since this is not a constraint. It is merely a way of
describing as to how the data that is spread over multiple tables, is to be
related with each other.<o:p></o:p></span></p>

</div>

</body>


<!-- Mirrored from www.vijaymukhi.com/documents/books/xsd/chap1.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Oct 2024 14:05:59 GMT -->
</html>
